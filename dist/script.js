(()=>{"use strict";var __webpack_modules__={588:(_,e,t)=>{var E,n,O,c;t.d(e,{Jl:()=>l,VU:()=>a,d:()=>O,eI:()=>E,qn:()=>s,uI:()=>n,vY:()=>c,zW:()=>r}),function(_){_.ZERO="0",_.ONE="1",_.TWO="2",_.THREE="3",_.FOUR="4",_.FIVE="5",_.SIX="6",_.SEVEN="7",_.EIGHT="8",_.NINE="9"}(E||(E={})),function(_){_[_.ZERO=0]="ZERO"}(n||(n={})),function(_){_.PLUS="+",_.MINUS="-",_.MULTIPLY="*",_.DIVIDE="/"}(O||(O={})),function(_){_.DOT="."}(c||(c={}));var s,a,r,l={ONE:".one",TWO:".two",THREE:".three",FOUR:".four",FIVE:".five",SIX:".six",SEVEN:".seven",EIGHT:".eight",NINE:".nine",ZERO:".zero",DOT:".dot",BUTTON_C:".button-c",PLUS:".plus",MINUS:".minus",MULTIPLY:".multiply",DIVIDE:".divide",EQUALS:".grid-equals",ALL_BUTTONS:".calculator__button",SCREEN:".calculator__screen-symbols",CALCULATOR_CONTAINER:".calculator"};!function(_){_.SCREEN_IS_LOST="screen is lost",_.CALCULATOR_CONTAINER_IS_LOST="caluclator container is lost",_.SELECTOR_NOT_FOUND="selector not found"}(s||(s={})),function(_){_.MISSING_SELECTOR="Missing selector"}(a||(a={})),function(_){_.MOUSE_UP="mouseup",_.MOUSE_DOWN="mousedown"}(r||(r={}))},727:(_,e,t)=>{t.d(e,{A:()=>O,Q:()=>n});var E=t(588),n=function(_,e){var t=String(_).split("");return t[t.length-1]===E.vY.DOT?"".concat(_).concat(e):Number(_)<=E.uI.ZERO?e:"".concat(_).concat(e)},O=function(_){return E.eI.ZERO}},662:(_,e,t)=>{t.d(e,{P:()=>O});var E=t(588),n=t(772),O=function(_,e){if((0,n.iY)(_,e))return _;switch(_[_.length-1]){case E.d.DIVIDE:case E.d.MINUS:case E.d.MULTIPLY:case E.d.PLUS:case E.vY.DOT:return(0,n.fC)(_,e);default:return"".concat(_).concat(e)}}},990:(_,e,t)=>{t.d(e,{Z:()=>N,s:()=>d});var E=t(588),n=t(772),O=(0,n.$9)(document,E.Jl.CALCULATOR_CONTAINER,E.qn.CALCULATOR_CONTAINER_IS_LOST),c=(0,n.$9)(O,E.Jl.ONE,E.qn.SELECTOR_NOT_FOUND),s=(0,n.$9)(O,E.Jl.TWO,E.qn.SELECTOR_NOT_FOUND),a=(0,n.$9)(O,E.Jl.THREE,E.qn.SELECTOR_NOT_FOUND),r=(0,n.$9)(O,E.Jl.FOUR,E.qn.SELECTOR_NOT_FOUND),l=(0,n.$9)(O,E.Jl.FIVE,E.qn.SELECTOR_NOT_FOUND),o=(0,n.$9)(O,E.Jl.SIX,E.qn.SELECTOR_NOT_FOUND),D=(0,n.$9)(O,E.Jl.SEVEN,E.qn.SELECTOR_NOT_FOUND),u=(0,n.$9)(O,E.Jl.EIGHT,E.qn.SELECTOR_NOT_FOUND),M=(0,n.$9)(O,E.Jl.NINE,E.qn.SELECTOR_NOT_FOUND),i=(0,n.$9)(O,E.Jl.ZERO,E.qn.SELECTOR_NOT_FOUND),P=(0,n.$9)(O,E.Jl.DOT,E.qn.SELECTOR_NOT_FOUND),T=(0,n.$9)(O,E.Jl.BUTTON_C,E.qn.SELECTOR_NOT_FOUND),L=(0,n.$9)(O,E.Jl.PLUS,E.qn.SELECTOR_NOT_FOUND),U=(0,n.$9)(O,E.Jl.MINUS,E.qn.SELECTOR_NOT_FOUND),C=(0,n.$9)(O,E.Jl.MULTIPLY,E.qn.SELECTOR_NOT_FOUND),I=(0,n.$9)(O,E.Jl.DIVIDE,E.qn.SELECTOR_NOT_FOUND),R=(0,n.$9)(O,E.Jl.EQUALS,E.qn.SELECTOR_NOT_FOUND),d=(0,n.$9)(O,E.Jl.SCREEN,E.qn.SELECTOR_NOT_FOUND),N={one:c,two:s,three:a,four:r,five:l,six:o,seven:D,eight:u,nine:M,zero:i,dot:P,c:T,plus:L,minus:U,multiply:C,divide:I,equals:R,allButtons:(0,n.oi)(O,E.Jl.ALL_BUTTONS,E.qn.SELECTOR_NOT_FOUND)}},772:(_,e,t)=>{t.d(e,{$9:()=>s,oi:()=>a,KD:()=>o,iY:()=>l,lg:()=>O,fC:()=>r,vZ:()=>c});var E=t(588),n=function(_){throw new Error("".concat(_.type,": ").concat(_.message))},O=function(){var _=new Audio("../assets/click.wav");_.volume=.1,_.play()},c=function(_,e){if(!_)return n({type:E.VU.MISSING_SELECTOR,message:E.qn.SCREEN_IS_LOST});_.textContent=e},s=function(_,e,t){return _.querySelector(e)||n({type:E.VU.MISSING_SELECTOR,message:t})},a=function(_,e,t){return _.querySelectorAll(e)||n({type:E.VU.MISSING_SELECTOR,message:t})},r=function(_,e){var t=String(_).split("");return t.pop(),"".concat(t.join("")).concat(e)},l=function(_,e){var t=r(_,e).split(/[\s()*/%+-]+/g),E=!1;return t.forEach((function(_){var e=_.match(/\./g);e&&e.length>=2&&(E=!0)})),E},o=function(_){var e=String(_).split("");return e[e.length-1]===E.d.DIVIDE||e[e.length-1]===E.d.PLUS||e[e.length-1]===E.d.MINUS||e[e.length-1]===E.d.MULTIPLY}}},__webpack_module_cache__={};function __webpack_require__(_){var e=__webpack_module_cache__[_];if(void 0!==e)return e.exports;var t=__webpack_module_cache__[_]={exports:{}};return __webpack_modules__[_](t,t.exports,__webpack_require__),t.exports}__webpack_require__.d=(_,e)=>{for(var t in e)__webpack_require__.o(e,t)&&!__webpack_require__.o(_,t)&&Object.defineProperty(_,t,{enumerable:!0,get:e[t]})},__webpack_require__.o=(_,e)=>Object.prototype.hasOwnProperty.call(_,e);var __webpack_exports__={};(()=>{var _selectors__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(990),_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(772),_modules_numbers__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(727),_constants__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(588),_modules_opetators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(662),calcValue="0",handleNumberClick=function(_){if(calcValue.length>=15)_selectors__WEBPACK_IMPORTED_MODULE_0__.s.textContent=calcValue;else{var e=(0,_modules_numbers__WEBPACK_IMPORTED_MODULE_2__.Q)(calcValue,_);calcValue=e,_selectors__WEBPACK_IMPORTED_MODULE_0__.s.textContent=calcValue}},handleCleanClick=function(){var _=(0,_modules_numbers__WEBPACK_IMPORTED_MODULE_2__.A)(calcValue);calcValue=_,_selectors__WEBPACK_IMPORTED_MODULE_0__.s.textContent=calcValue},handleOperatorClick=function(_){if(calcValue.length>=15)_selectors__WEBPACK_IMPORTED_MODULE_0__.s.textContent=calcValue;else{var e=(0,_modules_opetators__WEBPACK_IMPORTED_MODULE_4__.P)(calcValue,_);calcValue=e,_selectors__WEBPACK_IMPORTED_MODULE_0__.s.textContent=calcValue}},handleEqualsClick=function handleEqualsClick(){if((0,_utils__WEBPACK_IMPORTED_MODULE_1__.KD)(calcValue)){var calcValueArr=String(calcValue).split("");calcValueArr.pop();var res=calcValueArr.join("");return calcValue=res,_selectors__WEBPACK_IMPORTED_MODULE_0__.s.textContent=res}try{var result=eval(calcValue),test=Number(result).toFixed(2);calcValue=String(test),_selectors__WEBPACK_IMPORTED_MODULE_0__.s.textContent=calcValue}catch(_){console.log(_)}},handleMouseUp=function(_){_.target.classList.contains("calculator__button")&&_.target.classList.remove("calculator__button_without_shadow"),Array.from(_selectors__WEBPACK_IMPORTED_MODULE_0__.Z.allButtons).forEach((function(_){_.classList.remove("calculator__button_without_shadow")}))},handleMouseDown=function(_){_.target.classList.contains("calculator__button")&&(_.target.classList.add("calculator__button_without_shadow"),(0,_utils__WEBPACK_IMPORTED_MODULE_1__.lg)())};window.addEventListener(_constants__WEBPACK_IMPORTED_MODULE_3__.zW.MOUSE_UP,handleMouseUp),window.addEventListener(_constants__WEBPACK_IMPORTED_MODULE_3__.zW.MOUSE_DOWN,handleMouseDown),_selectors__WEBPACK_IMPORTED_MODULE_0__.Z.one.addEventListener(_constants__WEBPACK_IMPORTED_MODULE_3__.zW.MOUSE_DOWN,(function(){return handleNumberClick(_constants__WEBPACK_IMPORTED_MODULE_3__.eI.ONE)})),_selectors__WEBPACK_IMPORTED_MODULE_0__.Z.two.addEventListener(_constants__WEBPACK_IMPORTED_MODULE_3__.zW.MOUSE_DOWN,(function(){return handleNumberClick(_constants__WEBPACK_IMPORTED_MODULE_3__.eI.TWO)})),_selectors__WEBPACK_IMPORTED_MODULE_0__.Z.three.addEventListener(_constants__WEBPACK_IMPORTED_MODULE_3__.zW.MOUSE_DOWN,(function(){return handleNumberClick(_constants__WEBPACK_IMPORTED_MODULE_3__.eI.THREE)})),_selectors__WEBPACK_IMPORTED_MODULE_0__.Z.four.addEventListener(_constants__WEBPACK_IMPORTED_MODULE_3__.zW.MOUSE_DOWN,(function(){return handleNumberClick(_constants__WEBPACK_IMPORTED_MODULE_3__.eI.FOUR)})),_selectors__WEBPACK_IMPORTED_MODULE_0__.Z.five.addEventListener(_constants__WEBPACK_IMPORTED_MODULE_3__.zW.MOUSE_DOWN,(function(){return handleNumberClick(_constants__WEBPACK_IMPORTED_MODULE_3__.eI.FIVE)})),_selectors__WEBPACK_IMPORTED_MODULE_0__.Z.six.addEventListener(_constants__WEBPACK_IMPORTED_MODULE_3__.zW.MOUSE_DOWN,(function(){return handleNumberClick(_constants__WEBPACK_IMPORTED_MODULE_3__.eI.SIX)})),_selectors__WEBPACK_IMPORTED_MODULE_0__.Z.seven.addEventListener(_constants__WEBPACK_IMPORTED_MODULE_3__.zW.MOUSE_DOWN,(function(){return handleNumberClick(_constants__WEBPACK_IMPORTED_MODULE_3__.eI.SEVEN)})),_selectors__WEBPACK_IMPORTED_MODULE_0__.Z.eight.addEventListener(_constants__WEBPACK_IMPORTED_MODULE_3__.zW.MOUSE_DOWN,(function(){return handleNumberClick(_constants__WEBPACK_IMPORTED_MODULE_3__.eI.EIGHT)})),_selectors__WEBPACK_IMPORTED_MODULE_0__.Z.nine.addEventListener(_constants__WEBPACK_IMPORTED_MODULE_3__.zW.MOUSE_DOWN,(function(){return handleNumberClick(_constants__WEBPACK_IMPORTED_MODULE_3__.eI.NINE)})),_selectors__WEBPACK_IMPORTED_MODULE_0__.Z.zero.addEventListener(_constants__WEBPACK_IMPORTED_MODULE_3__.zW.MOUSE_DOWN,(function(){return handleNumberClick(_constants__WEBPACK_IMPORTED_MODULE_3__.eI.ZERO)})),_selectors__WEBPACK_IMPORTED_MODULE_0__.Z.c.addEventListener(_constants__WEBPACK_IMPORTED_MODULE_3__.zW.MOUSE_DOWN,handleCleanClick),_selectors__WEBPACK_IMPORTED_MODULE_0__.Z.dot.addEventListener(_constants__WEBPACK_IMPORTED_MODULE_3__.zW.MOUSE_DOWN,(function(){return handleOperatorClick(_constants__WEBPACK_IMPORTED_MODULE_3__.vY.DOT)})),_selectors__WEBPACK_IMPORTED_MODULE_0__.Z.plus.addEventListener(_constants__WEBPACK_IMPORTED_MODULE_3__.zW.MOUSE_DOWN,(function(){return handleOperatorClick(_constants__WEBPACK_IMPORTED_MODULE_3__.d.PLUS)})),_selectors__WEBPACK_IMPORTED_MODULE_0__.Z.minus.addEventListener(_constants__WEBPACK_IMPORTED_MODULE_3__.zW.MOUSE_DOWN,(function(){return handleOperatorClick(_constants__WEBPACK_IMPORTED_MODULE_3__.d.MINUS)})),_selectors__WEBPACK_IMPORTED_MODULE_0__.Z.multiply.addEventListener(_constants__WEBPACK_IMPORTED_MODULE_3__.zW.MOUSE_DOWN,(function(){return handleOperatorClick(_constants__WEBPACK_IMPORTED_MODULE_3__.d.MULTIPLY)})),_selectors__WEBPACK_IMPORTED_MODULE_0__.Z.divide.addEventListener(_constants__WEBPACK_IMPORTED_MODULE_3__.zW.MOUSE_DOWN,(function(){return handleOperatorClick(_constants__WEBPACK_IMPORTED_MODULE_3__.d.DIVIDE)})),_selectors__WEBPACK_IMPORTED_MODULE_0__.Z.equals.addEventListener(_constants__WEBPACK_IMPORTED_MODULE_3__.zW.MOUSE_DOWN,handleEqualsClick),(0,_utils__WEBPACK_IMPORTED_MODULE_1__.vZ)(_selectors__WEBPACK_IMPORTED_MODULE_0__.s,calcValue)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WUFBbUIsa0JBQU15SCxvQkFBb0I3SCx3Q0FBQUEsRUFBQUEsTUFBMUIsSUFDbEQ0RCx3Q0FBQUEsRUFBQUEsU0FBQUEsaUJBQWtDeEQsd0NBQUFBLEdBQUFBLFlBQW1CLGtCQUFNeUgsb0JBQW9CN0gsd0NBQUFBLEVBQUFBLFNBQTFCLElBQ3JENEQsd0NBQUFBLEVBQUFBLE9BQUFBLGlCQUFnQ3hELHdDQUFBQSxHQUFBQSxZQUFtQixrQkFBTXlILG9CQUFvQjdILHdDQUFBQSxFQUFBQSxPQUExQixJQUNuRDRELHdDQUFBQSxFQUFBQSxPQUFBQSxpQkFBZ0N4RCx3Q0FBQUEsR0FBQUEsV0FBbUIwSCxvQkFHbkQxQyxFQUFBQSxvQ0FBQUEsSUFBc0J6Qix3Q0FBQUEsRUFBUWhDLFUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYWxjdWxhdG9yLy4vc3JjL2NvbnN0YW50cy50cyIsIndlYnBhY2s6Ly9jYWxjdWxhdG9yLy4vc3JjL21vZHVsZXMvbnVtYmVycy50cyIsIndlYnBhY2s6Ly9jYWxjdWxhdG9yLy4vc3JjL21vZHVsZXMvb3BldGF0b3JzLnRzIiwid2VicGFjazovL2NhbGN1bGF0b3IvLi9zcmMvc2VsZWN0b3JzLnRzIiwid2VicGFjazovL2NhbGN1bGF0b3IvLi9zcmMvbW9kdWxlcy9leGVwdGlvbnMudHMiLCJ3ZWJwYWNrOi8vY2FsY3VsYXRvci8uL3NyYy91dGlscy50cyIsIndlYnBhY2s6Ly9jYWxjdWxhdG9yL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2NhbGN1bGF0b3Ivd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2NhbGN1bGF0b3Ivd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9jYWxjdWxhdG9yLy4vc3JjL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImVudW0gU3RyaW5ncyB7XHJcbiAgWkVSTyA9ICcwJyxcclxuICBPTkUgPSAnMScsXHJcbiAgVFdPID0gJzInLFxyXG4gIFRIUkVFID0gJzMnLFxyXG4gIEZPVVIgPSAnNCcsXHJcbiAgRklWRSA9ICc1JyxcclxuICBTSVggPSAnNicsXHJcbiAgU0VWRU4gPSAnNycsXHJcbiAgRUlHSFQgPSAnOCcsXHJcbiAgTklORSA9ICc5JyxcclxufVxyXG5cclxuZW51bSBOdW1iZXJzIHtcclxuICBaRVJPID0gMCxcclxufVxyXG5cclxuZW51bSBPcGVyYXRvcnMge1xyXG4gIFBMVVMgPSAnKycsXHJcbiAgTUlOVVMgPSAnLScsXHJcbiAgTVVMVElQTFkgPSAnKicsXHJcbiAgRElWSURFID0gJy8nXHJcbn1cclxuXHJcbmVudW0gU3ltYm9scyB7XHJcbiAgRE9UID0gJy4nXHJcbn1cclxuXHJcbmNvbnN0IGNsYXNzU2VsZWN0b3JzID0ge1xyXG4gIE9ORTogJy5vbmUnLFxyXG4gIFRXTzogJy50d28nLFxyXG4gIFRIUkVFOiAnLnRocmVlJyxcclxuICBGT1VSOiAnLmZvdXInLFxyXG4gIEZJVkU6ICcuZml2ZScsXHJcbiAgU0lYOiAnLnNpeCcsXHJcbiAgU0VWRU46ICcuc2V2ZW4nLFxyXG4gIEVJR0hUOiAnLmVpZ2h0JyxcclxuICBOSU5FOiAnLm5pbmUnLFxyXG4gIFpFUk86ICcuemVybycsXHJcbiAgRE9UOiAnLmRvdCcsXHJcbiAgQlVUVE9OX0M6ICcuYnV0dG9uLWMnLFxyXG4gIFBMVVM6ICcucGx1cycsXHJcbiAgTUlOVVM6ICcubWludXMnLFxyXG4gIE1VTFRJUExZOiAnLm11bHRpcGx5JyxcclxuICBESVZJREU6ICcuZGl2aWRlJyxcclxuICBFUVVBTFM6ICcuZ3JpZC1lcXVhbHMnLFxyXG4gIEFMTF9CVVRUT05TOiAnLmNhbGN1bGF0b3JfX2J1dHRvbicsXHJcbiAgU0NSRUVOOiAnLmNhbGN1bGF0b3JfX3NjcmVlbi1zeW1ib2xzJyxcclxuICBDQUxDVUxBVE9SX0NPTlRBSU5FUjogJy5jYWxjdWxhdG9yJyxcclxufVxyXG5cclxuZW51bSBFcnJvcnNNZXNzYWdlcyB7XHJcbiAgU0NSRUVOX0lTX0xPU1QgPSAnc2NyZWVuIGlzIGxvc3QnLFxyXG4gIENBTENVTEFUT1JfQ09OVEFJTkVSX0lTX0xPU1QgPSAnY2FsdWNsYXRvciBjb250YWluZXIgaXMgbG9zdCcsXHJcbiAgU0VMRUNUT1JfTk9UX0ZPVU5EID0gJ3NlbGVjdG9yIG5vdCBmb3VuZCdcclxufVxyXG5cclxuZW51bSBFcnJvcnNUeXBlcyB7XHJcbiAgTUlTU0lOR19TRUxFQ1RPUiA9ICdNaXNzaW5nIHNlbGVjdG9yJyxcclxufVxyXG5cclxuZW51bSBFdmVudHMge1xyXG4gIE1PVVNFX1VQID0gJ21vdXNldXAnLFxyXG4gIE1PVVNFX0RPV04gPSAnbW91c2Vkb3duJ1xyXG59XHJcblxyXG5leHBvcnQge1xyXG4gIFN0cmluZ3MsXHJcbiAgTnVtYmVycyxcclxuICBFcnJvcnNNZXNzYWdlcyxcclxuICBFcnJvcnNUeXBlcyxcclxuICBPcGVyYXRvcnMsXHJcbiAgU3ltYm9scyxcclxuICBFdmVudHMsXHJcbiAgY2xhc3NTZWxlY3RvcnNcclxufSIsImltcG9ydCB7TnVtYmVycywgU3RyaW5ncywgU3ltYm9sc30gZnJvbSAnLi4vY29uc3RhbnRzJztcclxuXHJcbmNvbnN0IGNvbnZlcnROdW1iZXJWYWx1ZSA9IChjYWxjVmFsdWU6IHN0cmluZywgbnVtYmVyVmFsdWU6IHN0cmluZyk6IHN0cmluZyA9PiB7XHJcbiAgY29uc3QgdmFsQXJyID0gU3RyaW5nKGNhbGNWYWx1ZSkuc3BsaXQoJycpO1xyXG4gIGNvbnN0IGxhc3RTeW1ib2wgPSB2YWxBcnJbdmFsQXJyLmxlbmd0aCAtIDFdO1xyXG5cclxuICBpZihsYXN0U3ltYm9sID09PSBTeW1ib2xzLkRPVCkge1xyXG4gICAgY2FsY1ZhbHVlID0gYCR7Y2FsY1ZhbHVlfSR7bnVtYmVyVmFsdWV9YDtcclxuICAgIHJldHVybiBjYWxjVmFsdWU7XHJcbiAgfVxyXG5cclxuICBpZihOdW1iZXIoY2FsY1ZhbHVlKSA8PSBOdW1iZXJzLlpFUk8pIHtcclxuICAgIGNhbGNWYWx1ZSA9IG51bWJlclZhbHVlO1xyXG4gICAgcmV0dXJuIGNhbGNWYWx1ZTtcclxuICB9XHJcblxyXG4gIGNhbGNWYWx1ZSA9IGAke2NhbGNWYWx1ZX0ke251bWJlclZhbHVlfWA7XHJcbiAgcmV0dXJuIGNhbGNWYWx1ZTtcclxufVxyXG5cclxuY29uc3QgY2xlYW5WYWx1ZSA9IChjYWxjVmFsdWU6IHN0cmluZyk6IHN0cmluZyA9PiB7XHJcbiAgY2FsY1ZhbHVlID0gU3RyaW5ncy5aRVJPO1xyXG4gIHJldHVybiBjYWxjVmFsdWU7XHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcbiAgY29udmVydE51bWJlclZhbHVlLFxyXG4gIGNsZWFuVmFsdWVcclxufSIsImltcG9ydCB7IE51bWJlcnMsIE9wZXJhdG9ycywgU3ltYm9scyB9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcclxuaW1wb3J0IHsgaGFzVHdvRG90cywgcmVwbGFjZUxhc3RTaW1ib2xJblN0cmluZ1dpdGhPcGVyYXRvciB9IGZyb20gXCIuLi91dGlsc1wiO1xyXG5cclxuY29uc3QgY29udmVydFZhbHVlV2l0aE9wZXJhdG9yID0gKGNhbGNWYWx1ZTogc3RyaW5nLCBvcGVyYXRvcjogc3RyaW5nKTogc3RyaW5nID0+IHtcclxuICBpZihoYXNUd29Eb3RzKGNhbGNWYWx1ZSwgb3BlcmF0b3IpKSB7XHJcbiAgICByZXR1cm4gY2FsY1ZhbHVlO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgbGFzdFN5bWJvbCA9IGNhbGNWYWx1ZVtjYWxjVmFsdWUubGVuZ3RoIC0gMV07XHJcblxyXG4gIHN3aXRjaChsYXN0U3ltYm9sKSB7XHJcbiAgICBjYXNlIE9wZXJhdG9ycy5ESVZJREU6IFxyXG4gICAgICByZXR1cm4gcmVwbGFjZUxhc3RTaW1ib2xJblN0cmluZ1dpdGhPcGVyYXRvcihjYWxjVmFsdWUsIG9wZXJhdG9yKTtcclxuICAgIGNhc2UgT3BlcmF0b3JzLk1JTlVTOiBcclxuICAgICAgcmV0dXJuIHJlcGxhY2VMYXN0U2ltYm9sSW5TdHJpbmdXaXRoT3BlcmF0b3IoY2FsY1ZhbHVlLCBvcGVyYXRvcik7XHJcbiAgICBjYXNlIE9wZXJhdG9ycy5NVUxUSVBMWTogXHJcbiAgICAgIHJldHVybiByZXBsYWNlTGFzdFNpbWJvbEluU3RyaW5nV2l0aE9wZXJhdG9yKGNhbGNWYWx1ZSwgb3BlcmF0b3IpO1xyXG4gICAgY2FzZSBPcGVyYXRvcnMuUExVUzogXHJcbiAgICAgIHJldHVybiByZXBsYWNlTGFzdFNpbWJvbEluU3RyaW5nV2l0aE9wZXJhdG9yKGNhbGNWYWx1ZSwgb3BlcmF0b3IpO1xyXG4gICAgY2FzZSBTeW1ib2xzLkRPVDogXHJcbiAgICAgIHJldHVybiByZXBsYWNlTGFzdFNpbWJvbEluU3RyaW5nV2l0aE9wZXJhdG9yKGNhbGNWYWx1ZSwgb3BlcmF0b3IpO1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgY2FsY1ZhbHVlID0gYCR7Y2FsY1ZhbHVlfSR7b3BlcmF0b3J9YDtcclxuICAgICAgcmV0dXJuIGNhbGNWYWx1ZTtcclxuICB9XHJcbn1cclxuXHJcblxyXG5leHBvcnQge1xyXG4gIGNvbnZlcnRWYWx1ZVdpdGhPcGVyYXRvcixcclxuXHJcbn0iLCJpbXBvcnQgeyBjbGFzc1NlbGVjdG9ycywgRXJyb3JzTWVzc2FnZXMgfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcclxuaW1wb3J0IHsgaGFuZGxlRmluZEVsZW1lbnRCeVNlbGVjdG9yLCBoYW5kbGVGaW5kU2V2ZXJhbEVsZW1lbnRzQnlTZWxlY3RvciB9IGZyb20gXCIuL3V0aWxzXCI7XHJcblxyXG5cclxuY29uc3QgY2FsY0NvbnRhaW5lciA9IGhhbmRsZUZpbmRFbGVtZW50QnlTZWxlY3RvcihcclxuICBkb2N1bWVudCAsIGNsYXNzU2VsZWN0b3JzLkNBTENVTEFUT1JfQ09OVEFJTkVSLCBFcnJvcnNNZXNzYWdlcy5DQUxDVUxBVE9SX0NPTlRBSU5FUl9JU19MT1NUXHJcbik7XHJcbmNvbnN0IG9uZU51bWJlciA9IGhhbmRsZUZpbmRFbGVtZW50QnlTZWxlY3RvcihcclxuICBjYWxjQ29udGFpbmVyICwgY2xhc3NTZWxlY3RvcnMuT05FLCBFcnJvcnNNZXNzYWdlcy5TRUxFQ1RPUl9OT1RfRk9VTkRcclxuKTtcclxuY29uc3QgdHdvTnVtYmVyID0gaGFuZGxlRmluZEVsZW1lbnRCeVNlbGVjdG9yKFxyXG4gIGNhbGNDb250YWluZXIgLCBjbGFzc1NlbGVjdG9ycy5UV08sIEVycm9yc01lc3NhZ2VzLlNFTEVDVE9SX05PVF9GT1VORFxyXG4pO1xyXG5jb25zdCB0aHJlZU51bWJlciA9IGhhbmRsZUZpbmRFbGVtZW50QnlTZWxlY3RvcihcclxuICBjYWxjQ29udGFpbmVyICwgY2xhc3NTZWxlY3RvcnMuVEhSRUUsIEVycm9yc01lc3NhZ2VzLlNFTEVDVE9SX05PVF9GT1VORFxyXG4pO1xyXG5jb25zdCBmb3VyTnVtYmVyID0gaGFuZGxlRmluZEVsZW1lbnRCeVNlbGVjdG9yKFxyXG4gIGNhbGNDb250YWluZXIgLCBjbGFzc1NlbGVjdG9ycy5GT1VSLCBFcnJvcnNNZXNzYWdlcy5TRUxFQ1RPUl9OT1RfRk9VTkRcclxuKTtcclxuY29uc3QgZml2ZU51bWJlciA9IGhhbmRsZUZpbmRFbGVtZW50QnlTZWxlY3RvcihcclxuICBjYWxjQ29udGFpbmVyICwgY2xhc3NTZWxlY3RvcnMuRklWRSwgRXJyb3JzTWVzc2FnZXMuU0VMRUNUT1JfTk9UX0ZPVU5EXHJcbik7XHJcbmNvbnN0IHNpeE51bWJlciA9IGhhbmRsZUZpbmRFbGVtZW50QnlTZWxlY3RvcihcclxuICBjYWxjQ29udGFpbmVyICwgY2xhc3NTZWxlY3RvcnMuU0lYLCBFcnJvcnNNZXNzYWdlcy5TRUxFQ1RPUl9OT1RfRk9VTkRcclxuKTtcclxuY29uc3Qgc2V2ZW5OdW1iZXIgPSBoYW5kbGVGaW5kRWxlbWVudEJ5U2VsZWN0b3IoXHJcbiAgY2FsY0NvbnRhaW5lciAsIGNsYXNzU2VsZWN0b3JzLlNFVkVOLCBFcnJvcnNNZXNzYWdlcy5TRUxFQ1RPUl9OT1RfRk9VTkRcclxuKTtcclxuY29uc3QgZWlnaHROdW1iZXIgPSBoYW5kbGVGaW5kRWxlbWVudEJ5U2VsZWN0b3IoXHJcbiAgY2FsY0NvbnRhaW5lciAsIGNsYXNzU2VsZWN0b3JzLkVJR0hULCBFcnJvcnNNZXNzYWdlcy5TRUxFQ1RPUl9OT1RfRk9VTkRcclxuKTtcclxuY29uc3QgbmluZU51bWJlciA9IGhhbmRsZUZpbmRFbGVtZW50QnlTZWxlY3RvcihcclxuICBjYWxjQ29udGFpbmVyICwgY2xhc3NTZWxlY3RvcnMuTklORSwgRXJyb3JzTWVzc2FnZXMuU0VMRUNUT1JfTk9UX0ZPVU5EXHJcbik7XHJcbmNvbnN0IHplcm9OdW1iZXIgPSBoYW5kbGVGaW5kRWxlbWVudEJ5U2VsZWN0b3IoXHJcbiAgY2FsY0NvbnRhaW5lciAsIGNsYXNzU2VsZWN0b3JzLlpFUk8sIEVycm9yc01lc3NhZ2VzLlNFTEVDVE9SX05PVF9GT1VORFxyXG4pO1xyXG5jb25zdCBkb3QgPSBoYW5kbGVGaW5kRWxlbWVudEJ5U2VsZWN0b3IoXHJcbiAgY2FsY0NvbnRhaW5lciAsIGNsYXNzU2VsZWN0b3JzLkRPVCwgRXJyb3JzTWVzc2FnZXMuU0VMRUNUT1JfTk9UX0ZPVU5EXHJcbik7XHJcbmNvbnN0IGJ1dHRvbkMgPSBoYW5kbGVGaW5kRWxlbWVudEJ5U2VsZWN0b3IoXHJcbiAgY2FsY0NvbnRhaW5lciAsIGNsYXNzU2VsZWN0b3JzLkJVVFRPTl9DLCBFcnJvcnNNZXNzYWdlcy5TRUxFQ1RPUl9OT1RfRk9VTkRcclxuKTtcclxuY29uc3QgcGx1cyA9IGhhbmRsZUZpbmRFbGVtZW50QnlTZWxlY3RvcihcclxuICBjYWxjQ29udGFpbmVyICwgY2xhc3NTZWxlY3RvcnMuUExVUywgRXJyb3JzTWVzc2FnZXMuU0VMRUNUT1JfTk9UX0ZPVU5EXHJcbik7XHJcbmNvbnN0IG1pbnVzID0gaGFuZGxlRmluZEVsZW1lbnRCeVNlbGVjdG9yKFxyXG4gIGNhbGNDb250YWluZXIgLCBjbGFzc1NlbGVjdG9ycy5NSU5VUywgRXJyb3JzTWVzc2FnZXMuU0VMRUNUT1JfTk9UX0ZPVU5EXHJcbik7XHJcbmNvbnN0IG11bHRpcGx5ID0gaGFuZGxlRmluZEVsZW1lbnRCeVNlbGVjdG9yKFxyXG4gIGNhbGNDb250YWluZXIgLCBjbGFzc1NlbGVjdG9ycy5NVUxUSVBMWSwgRXJyb3JzTWVzc2FnZXMuU0VMRUNUT1JfTk9UX0ZPVU5EXHJcbik7XHJcbmNvbnN0IGRpdmlkZSA9IGhhbmRsZUZpbmRFbGVtZW50QnlTZWxlY3RvcihcclxuICBjYWxjQ29udGFpbmVyICwgY2xhc3NTZWxlY3RvcnMuRElWSURFLCBFcnJvcnNNZXNzYWdlcy5TRUxFQ1RPUl9OT1RfRk9VTkRcclxuKTtcclxuY29uc3QgZXF1YWxzID0gaGFuZGxlRmluZEVsZW1lbnRCeVNlbGVjdG9yKFxyXG4gIGNhbGNDb250YWluZXIgLCBjbGFzc1NlbGVjdG9ycy5FUVVBTFMsIEVycm9yc01lc3NhZ2VzLlNFTEVDVE9SX05PVF9GT1VORFxyXG4pO1xyXG5jb25zdCBzY3JlZW4gPSBoYW5kbGVGaW5kRWxlbWVudEJ5U2VsZWN0b3IoXHJcbiAgY2FsY0NvbnRhaW5lciAsIGNsYXNzU2VsZWN0b3JzLlNDUkVFTiwgRXJyb3JzTWVzc2FnZXMuU0VMRUNUT1JfTk9UX0ZPVU5EXHJcbik7XHJcbmNvbnN0IGFsbEJ1dHRvbnMgPSBoYW5kbGVGaW5kU2V2ZXJhbEVsZW1lbnRzQnlTZWxlY3RvcihcclxuICBjYWxjQ29udGFpbmVyICwgY2xhc3NTZWxlY3RvcnMuQUxMX0JVVFRPTlMsIEVycm9yc01lc3NhZ2VzLlNFTEVDVE9SX05PVF9GT1VORFxyXG4pO1xyXG5cclxuXHJcbmNvbnN0IGJ1dHRvbnMgPSB7XHJcbiAgb25lOiBvbmVOdW1iZXIsXHJcbiAgdHdvOiB0d29OdW1iZXIsXHJcbiAgdGhyZWU6IHRocmVlTnVtYmVyLFxyXG4gIGZvdXI6IGZvdXJOdW1iZXIsXHJcbiAgZml2ZTogZml2ZU51bWJlcixcclxuICBzaXg6IHNpeE51bWJlcixcclxuICBzZXZlbjogc2V2ZW5OdW1iZXIsXHJcbiAgZWlnaHQ6IGVpZ2h0TnVtYmVyLFxyXG4gIG5pbmU6IG5pbmVOdW1iZXIsXHJcbiAgemVybzogemVyb051bWJlcixcclxuICBkb3Q6IGRvdCxcclxuICBjOiBidXR0b25DLFxyXG4gIHBsdXM6IHBsdXMsXHJcbiAgbWludXM6IG1pbnVzLFxyXG4gIG11bHRpcGx5OiBtdWx0aXBseSxcclxuICBkaXZpZGU6IGRpdmlkZSxcclxuICBlcXVhbHM6IGVxdWFscyxcclxuICBhbGxCdXR0b25zOiBhbGxCdXR0b25zXHJcbn1cclxuXHJcblxyXG5leHBvcnQge1xyXG4gIGJ1dHRvbnMsIHNjcmVlblxyXG59IiwiXHJcbmludGVyZmFjZSBFeGVwdGlvbk9iamVjdCB7XHJcbiAgdHlwZTogc3RyaW5nLFxyXG4gIG1lc3NhZ2U6IHN0cmluZ1xyXG59XHJcblxyXG5jb25zdCBoYW5kbGVFeGVwdGlvbnMgPSAoZXhlcHRpb25PYmplY3Q6IEV4ZXB0aW9uT2JqZWN0KSA9PiB7XHJcbiAgdGhyb3cgbmV3IEVycm9yKGAke2V4ZXB0aW9uT2JqZWN0LnR5cGV9OiAke2V4ZXB0aW9uT2JqZWN0Lm1lc3NhZ2V9YCk7XHJcblxyXG4gIC8vIGNhbGwgbG9nZ2VyXHJcbn1cclxuXHJcblxyXG5cclxuXHJcbmV4cG9ydCB7XHJcbiAgaGFuZGxlRXhlcHRpb25zXHJcbn0iLCJpbXBvcnQgeyBFcnJvcnNNZXNzYWdlcywgRXJyb3JzVHlwZXMsIE9wZXJhdG9ycyB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xyXG5pbXBvcnQgeyBoYW5kbGVFeGVwdGlvbnMgfSBmcm9tIFwiLi9tb2R1bGVzL2V4ZXB0aW9uc1wiO1xyXG5cclxuLy8gQ3JlYXRlIHNvdW5kcyBvZmZcclxuY29uc3QgcGxheVNvdW5kQ2xpY2sgPSAoKTogdm9pZCA9PiB7XHJcbiAgY29uc3QgYXVkaW8gPSBuZXcgQXVkaW8oJy4uL2Fzc2V0cy9jbGljay53YXYnKTtcclxuICBhdWRpby52b2x1bWUgPSAwLjE7XHJcbiAgYXVkaW8ucGxheSgpO1xyXG59XHJcblxyXG5jb25zdCBzZXRJbml0aWFsU2NyZWVuVmFsdWUgPSAoc2NyZWVuOiBFbGVtZW50IHwgbnVsbCwgY2FsY1ZhbHVlOiBzdHJpbmcpOiB2b2lkID0+IHtcclxuICBpZighc2NyZWVuKSB7XHJcbiAgICByZXR1cm4gaGFuZGxlRXhlcHRpb25zKHsgdHlwZTogRXJyb3JzVHlwZXMuTUlTU0lOR19TRUxFQ1RPUiwgbWVzc2FnZTogRXJyb3JzTWVzc2FnZXMuU0NSRUVOX0lTX0xPU1QgfSk7XHJcbiAgfVxyXG4gIFxyXG4gIHNjcmVlbi50ZXh0Q29udGVudCA9IGNhbGNWYWx1ZTtcclxufVxyXG5cclxuY29uc3QgaGFuZGxlRmluZEVsZW1lbnRCeVNlbGVjdG9yID0gKGZpbmRJbjogRWxlbWVudCB8IERvY3VtZW50LCBzZWxlY3Rvcjogc3RyaW5nLCBlcnJvck1lc3NhZ2U6IHN0cmluZyk6IEVsZW1lbnQgPT4ge1xyXG4gIGNvbnN0IGVsZW1lbnQ6IEVsZW1lbnQgfCBudWxsID0gZmluZEluLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xyXG5cclxuICBpZighZWxlbWVudCkge1xyXG4gICAgcmV0dXJuIGhhbmRsZUV4ZXB0aW9ucyh7IHR5cGU6IEVycm9yc1R5cGVzLk1JU1NJTkdfU0VMRUNUT1IsIG1lc3NhZ2U6IGVycm9yTWVzc2FnZSB9KTtcclxuICB9XHJcblxyXG4gIHJldHVybiBlbGVtZW50O1xyXG59XHJcblxyXG5jb25zdCBoYW5kbGVGaW5kU2V2ZXJhbEVsZW1lbnRzQnlTZWxlY3RvciA9IChcclxuICBmaW5kSW46IEVsZW1lbnQgfCBEb2N1bWVudCwgc2VsZWN0b3I6IHN0cmluZywgZXJyb3JNZXNzYWdlOiBzdHJpbmdcclxuKTogTm9kZUxpc3RPZjxFbGVtZW50PiA9PiB7XHJcbiAgY29uc3QgZWxlbWVudHM6IE5vZGVMaXN0T2Y8RWxlbWVudD4gfCBudWxsID0gZmluZEluLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xyXG5cclxuICBpZighZWxlbWVudHMpIHtcclxuICAgIHJldHVybiBoYW5kbGVFeGVwdGlvbnMoeyB0eXBlOiBFcnJvcnNUeXBlcy5NSVNTSU5HX1NFTEVDVE9SLCBtZXNzYWdlOiBlcnJvck1lc3NhZ2UgfSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZWxlbWVudHM7XHJcbn1cclxuXHJcbmNvbnN0IHJlcGxhY2VMYXN0U2ltYm9sSW5TdHJpbmdXaXRoT3BlcmF0b3IgPSAoY2FsY1ZhbHVlOiBzdHJpbmcsIG9wZXJhdG9yOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xyXG4gIGNvbnN0IG5ld1ZhbCA9IFN0cmluZyhjYWxjVmFsdWUpLnNwbGl0KCcnKTtcclxuICBuZXdWYWwucG9wKCk7XHJcbiAgY29uc3QgcmVzID0gYCR7bmV3VmFsLmpvaW4oJycpfSR7b3BlcmF0b3J9YFxyXG5cclxuICByZXR1cm4gcmVzO1xyXG59XHJcblxyXG5jb25zdCBoYXNUd29Eb3RzID0gKGNhbGNWYWx1ZTogc3RyaW5nLCBvcGVyYXRvcjogc3RyaW5nKTogYm9vbGVhbiA9PiB7XHJcbiAgY29uc3Qgc3BsaXRQYXR0ZXJuID0gL1tcXHMoKSovJSstXSsvZztcclxuICBjb25zdCBjYWxjVmFsdWVXaXRob3V0TGFzdE9wZXJhdG9yID0gcmVwbGFjZUxhc3RTaW1ib2xJblN0cmluZ1dpdGhPcGVyYXRvcihjYWxjVmFsdWUsIG9wZXJhdG9yKTtcclxuICBjb25zdCBjYWxjVmFsdWVBcnIgPSBjYWxjVmFsdWVXaXRob3V0TGFzdE9wZXJhdG9yLnNwbGl0KHNwbGl0UGF0dGVybik7XHJcbiAgbGV0IHJlcyA9IGZhbHNlO1xyXG5cclxuICBjYWxjVmFsdWVBcnIuZm9yRWFjaChpdGVtID0+IHtcclxuICAgIGNvbnN0IGRvdHMgPSBpdGVtLm1hdGNoKC9cXC4vZyk7XHJcblxyXG4gICAgaWYoIWRvdHMpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmKGRvdHMubGVuZ3RoID49IDIpIHtcclxuICAgICAgcmVzID0gdHJ1ZTtcclxuICAgIH1cclxuICB9KSBcclxuXHJcbiAgcmV0dXJuIHJlcztcclxufVxyXG5cclxuY29uc3QgaGFzT3BlcmF0b3JJbkVuZE9mU3RyaW5nID0gKGNhbGNWYWx1ZTogc3RyaW5nKTogYm9vbGVhbiA9PiB7XHJcbiAgY29uc3QgY2FsY1ZhbHVlQXJyID0gU3RyaW5nKGNhbGNWYWx1ZSkuc3BsaXQoJycpO1xyXG5cclxuICBpZihjYWxjVmFsdWVBcnJbY2FsY1ZhbHVlQXJyLmxlbmd0aCAtIDFdID09PSBPcGVyYXRvcnMuRElWSURFIFxyXG4gICAgfHwgY2FsY1ZhbHVlQXJyW2NhbGNWYWx1ZUFyci5sZW5ndGggLSAxXSA9PT0gT3BlcmF0b3JzLlBMVVNcclxuICAgIHx8IGNhbGNWYWx1ZUFycltjYWxjVmFsdWVBcnIubGVuZ3RoIC0gMV0gPT09IE9wZXJhdG9ycy5NSU5VU1xyXG4gICAgfHwgY2FsY1ZhbHVlQXJyW2NhbGNWYWx1ZUFyci5sZW5ndGggLSAxXSA9PT0gT3BlcmF0b3JzLk1VTFRJUExZXHJcbiAgICApIHtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGZhbHNlO1xyXG59XHJcblxyXG5leHBvcnQge1xyXG4gIHBsYXlTb3VuZENsaWNrLFxyXG4gIHNldEluaXRpYWxTY3JlZW5WYWx1ZSxcclxuICBoYW5kbGVGaW5kRWxlbWVudEJ5U2VsZWN0b3IsXHJcbiAgaGFuZGxlRmluZFNldmVyYWxFbGVtZW50c0J5U2VsZWN0b3IsXHJcbiAgcmVwbGFjZUxhc3RTaW1ib2xJblN0cmluZ1dpdGhPcGVyYXRvcixcclxuICBoYXNUd29Eb3RzLFxyXG4gIGhhc09wZXJhdG9ySW5FbmRPZlN0cmluZ1xyXG59IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJpbXBvcnQgJy4vc3R5bGVzL2luZGV4LmNzcyc7XHJcbmltcG9ydCB7IGJ1dHRvbnMsIHNjcmVlbiB9IGZyb20gXCIuL3NlbGVjdG9yc1wiO1xyXG5pbXBvcnQgeyBoYXNPcGVyYXRvckluRW5kT2ZTdHJpbmcsIHBsYXlTb3VuZENsaWNrLCBzZXRJbml0aWFsU2NyZWVuVmFsdWUgfSBmcm9tIFwiLi91dGlsc1wiO1xyXG5pbXBvcnQgeyBjb252ZXJ0TnVtYmVyVmFsdWUsIGNsZWFuVmFsdWUgfSBmcm9tICcuL21vZHVsZXMvbnVtYmVycyc7XHJcbmltcG9ydCB7IEV2ZW50cywgT3BlcmF0b3JzLCBTdHJpbmdzLCBTeW1ib2xzIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IGNvbnZlcnRWYWx1ZVdpdGhPcGVyYXRvciB9IGZyb20gXCIuL21vZHVsZXMvb3BldGF0b3JzXCI7XHJcblxyXG5sZXQgY2FsY1ZhbHVlID0gJzAnO1xyXG5cclxuXHJcbmNvbnN0IGhhbmRsZU51bWJlckNsaWNrID0gKG51bWJlclZhbHVlOiBzdHJpbmcpOiB2b2lkID0+IHtcclxuICBpZihjYWxjVmFsdWUubGVuZ3RoID49IDE1KSB7XHJcbiAgICBzY3JlZW4udGV4dENvbnRlbnQgPSBjYWxjVmFsdWU7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBjb25zdCB2YWx1ZSA9IGNvbnZlcnROdW1iZXJWYWx1ZShjYWxjVmFsdWUsIG51bWJlclZhbHVlKTtcclxuICBjYWxjVmFsdWUgPSB2YWx1ZTtcclxuICBzY3JlZW4udGV4dENvbnRlbnQgPSBjYWxjVmFsdWU7XHJcbn1cclxuXHJcbmNvbnN0IGhhbmRsZUNsZWFuQ2xpY2sgPSAoKTogdm9pZCA9PiB7XHJcbiAgY29uc3QgemVybyA9IGNsZWFuVmFsdWUoY2FsY1ZhbHVlKTtcclxuICBjYWxjVmFsdWUgPSB6ZXJvO1xyXG4gIHNjcmVlbi50ZXh0Q29udGVudCA9IGNhbGNWYWx1ZTtcclxufVxyXG5cclxuY29uc3QgaGFuZGxlT3BlcmF0b3JDbGljayA9IChvcGVyYXRvcjogc3RyaW5nKTogdm9pZCA9PiB7XHJcbiAgaWYoY2FsY1ZhbHVlLmxlbmd0aCA+PSAxNSkge1xyXG4gICAgc2NyZWVuLnRleHRDb250ZW50ID0gY2FsY1ZhbHVlO1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgdmFsdWUgPSBjb252ZXJ0VmFsdWVXaXRoT3BlcmF0b3IoY2FsY1ZhbHVlLCBvcGVyYXRvcik7XHJcbiAgY2FsY1ZhbHVlID0gdmFsdWU7XHJcbiAgc2NyZWVuLnRleHRDb250ZW50ID0gY2FsY1ZhbHVlO1xyXG59XHJcblxyXG5jb25zdCBoYW5kbGVFcXVhbHNDbGljayA9ICgpOiBzdHJpbmcgfCB2b2lkID0+IHtcclxuICBpZihoYXNPcGVyYXRvckluRW5kT2ZTdHJpbmcoY2FsY1ZhbHVlKSkge1xyXG4gICAgY29uc3QgY2FsY1ZhbHVlQXJyID0gU3RyaW5nKGNhbGNWYWx1ZSkuc3BsaXQoJycpO1xyXG4gICAgY2FsY1ZhbHVlQXJyLnBvcCgpO1xyXG4gICAgY29uc3QgcmVzID0gY2FsY1ZhbHVlQXJyLmpvaW4oJycpO1xyXG4gICAgY2FsY1ZhbHVlID0gcmVzO1xyXG4gICAgcmV0dXJuIHNjcmVlbi50ZXh0Q29udGVudCA9IHJlcztcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByZXN1bHQgPSBldmFsKGNhbGNWYWx1ZSk7XHJcbiAgICBjb25zdCB0ZXN0ID0gTnVtYmVyKHJlc3VsdCkudG9GaXhlZCgyKTtcclxuICAgIGNhbGNWYWx1ZSA9IFN0cmluZyh0ZXN0KTtcclxuICAgIHNjcmVlbi50ZXh0Q29udGVudCA9IGNhbGNWYWx1ZTtcclxuICB9IGNhdGNoKGVycm9yOiBhbnkpIHtcclxuICAgIGNvbnNvbGUubG9nKGVycm9yKTsgLy8gISEhISEhISEhISEhXHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBoYW5kbGVNb3VzZVVwID0gKGV2ZW50OiBhbnkpOiB2b2lkID0+IHtcclxuICBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnY2FsY3VsYXRvcl9fYnV0dG9uJykpIHtcclxuICAgIGV2ZW50LnRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdjYWxjdWxhdG9yX19idXR0b25fd2l0aG91dF9zaGFkb3cnKTtcclxuICB9XHJcblxyXG4gIEFycmF5LmZyb20oYnV0dG9ucy5hbGxCdXR0b25zKS5mb3JFYWNoKGJ1dHRvbiA9PiB7XHJcbiAgICBidXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnY2FsY3VsYXRvcl9fYnV0dG9uX3dpdGhvdXRfc2hhZG93Jyk7XHJcbiAgfSk7XHJcblxyXG59XHJcblxyXG5jb25zdCBoYW5kbGVNb3VzZURvd24gPSAoZXZlbnQ6IGFueSk6IHZvaWQgPT4ge1xyXG4gIGlmIChldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjYWxjdWxhdG9yX19idXR0b24nKSkge1xyXG4gICAgZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2NhbGN1bGF0b3JfX2J1dHRvbl93aXRob3V0X3NoYWRvdycpO1xyXG4gICAgcGxheVNvdW5kQ2xpY2soKTtcclxuICB9XHJcbn1cclxuXHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihFdmVudHMuTU9VU0VfVVAsIGhhbmRsZU1vdXNlVXApO1xyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihFdmVudHMuTU9VU0VfRE9XTiwgaGFuZGxlTW91c2VEb3duKTtcclxuXHJcbmJ1dHRvbnMub25lLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRzLk1PVVNFX0RPV04sICgpID0+IGhhbmRsZU51bWJlckNsaWNrKFN0cmluZ3MuT05FKSk7XHJcbmJ1dHRvbnMudHdvLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRzLk1PVVNFX0RPV04sICgpID0+IGhhbmRsZU51bWJlckNsaWNrKFN0cmluZ3MuVFdPKSk7XHJcbmJ1dHRvbnMudGhyZWUuYWRkRXZlbnRMaXN0ZW5lcihFdmVudHMuTU9VU0VfRE9XTiwgKCkgPT4gaGFuZGxlTnVtYmVyQ2xpY2soU3RyaW5ncy5USFJFRSkpO1xyXG5idXR0b25zLmZvdXIuYWRkRXZlbnRMaXN0ZW5lcihFdmVudHMuTU9VU0VfRE9XTiwgKCkgPT4gaGFuZGxlTnVtYmVyQ2xpY2soU3RyaW5ncy5GT1VSKSk7XHJcbmJ1dHRvbnMuZml2ZS5hZGRFdmVudExpc3RlbmVyKEV2ZW50cy5NT1VTRV9ET1dOLCAoKSA9PiBoYW5kbGVOdW1iZXJDbGljayhTdHJpbmdzLkZJVkUpKTtcclxuYnV0dG9ucy5zaXguYWRkRXZlbnRMaXN0ZW5lcihFdmVudHMuTU9VU0VfRE9XTiwgKCkgPT4gaGFuZGxlTnVtYmVyQ2xpY2soU3RyaW5ncy5TSVgpKTtcclxuYnV0dG9ucy5zZXZlbi5hZGRFdmVudExpc3RlbmVyKEV2ZW50cy5NT1VTRV9ET1dOLCAoKSA9PiBoYW5kbGVOdW1iZXJDbGljayhTdHJpbmdzLlNFVkVOKSk7XHJcbmJ1dHRvbnMuZWlnaHQuYWRkRXZlbnRMaXN0ZW5lcihFdmVudHMuTU9VU0VfRE9XTiwgKCkgPT4gaGFuZGxlTnVtYmVyQ2xpY2soU3RyaW5ncy5FSUdIVCkpO1xyXG5idXR0b25zLm5pbmUuYWRkRXZlbnRMaXN0ZW5lcihFdmVudHMuTU9VU0VfRE9XTiwgKCkgPT4gaGFuZGxlTnVtYmVyQ2xpY2soU3RyaW5ncy5OSU5FKSk7XHJcbmJ1dHRvbnMuemVyby5hZGRFdmVudExpc3RlbmVyKEV2ZW50cy5NT1VTRV9ET1dOLCAoKSA9PiBoYW5kbGVOdW1iZXJDbGljayhTdHJpbmdzLlpFUk8pKTtcclxuXHJcbmJ1dHRvbnMuYy5hZGRFdmVudExpc3RlbmVyKEV2ZW50cy5NT1VTRV9ET1dOLCBoYW5kbGVDbGVhbkNsaWNrKTtcclxuYnV0dG9ucy5kb3QuYWRkRXZlbnRMaXN0ZW5lcihFdmVudHMuTU9VU0VfRE9XTiwgKCkgPT4gaGFuZGxlT3BlcmF0b3JDbGljayhTeW1ib2xzLkRPVCkpO1xyXG5idXR0b25zLnBsdXMuYWRkRXZlbnRMaXN0ZW5lcihFdmVudHMuTU9VU0VfRE9XTiwgKCkgPT4gaGFuZGxlT3BlcmF0b3JDbGljayhPcGVyYXRvcnMuUExVUykpO1xyXG5idXR0b25zLm1pbnVzLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRzLk1PVVNFX0RPV04sICgpID0+IGhhbmRsZU9wZXJhdG9yQ2xpY2soT3BlcmF0b3JzLk1JTlVTKSk7XHJcbmJ1dHRvbnMubXVsdGlwbHkuYWRkRXZlbnRMaXN0ZW5lcihFdmVudHMuTU9VU0VfRE9XTiwgKCkgPT4gaGFuZGxlT3BlcmF0b3JDbGljayhPcGVyYXRvcnMuTVVMVElQTFkpKTtcclxuYnV0dG9ucy5kaXZpZGUuYWRkRXZlbnRMaXN0ZW5lcihFdmVudHMuTU9VU0VfRE9XTiwgKCkgPT4gaGFuZGxlT3BlcmF0b3JDbGljayhPcGVyYXRvcnMuRElWSURFKSk7XHJcbmJ1dHRvbnMuZXF1YWxzLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRzLk1PVVNFX0RPV04sIGhhbmRsZUVxdWFsc0NsaWNrKTtcclxuXHJcblxyXG5zZXRJbml0aWFsU2NyZWVuVmFsdWUoc2NyZWVuLCBjYWxjVmFsdWUpOyJdLCJuYW1lcyI6WyJTdHJpbmdzIiwiTnVtYmVycyIsIk9wZXJhdG9ycyIsIlN5bWJvbHMiLCJFcnJvcnNNZXNzYWdlcyIsIkVycm9yc1R5cGVzIiwiRXZlbnRzIiwiY2xhc3NTZWxlY3RvcnMiLCJPTkUiLCJUV08iLCJUSFJFRSIsIkZPVVIiLCJGSVZFIiwiU0lYIiwiU0VWRU4iLCJFSUdIVCIsIk5JTkUiLCJaRVJPIiwiRE9UIiwiQlVUVE9OX0MiLCJQTFVTIiwiTUlOVVMiLCJNVUxUSVBMWSIsIkRJVklERSIsIkVRVUFMUyIsIkFMTF9CVVRUT05TIiwiU0NSRUVOIiwiQ0FMQ1VMQVRPUl9DT05UQUlORVIiLCJjb252ZXJ0TnVtYmVyVmFsdWUiLCJjYWxjVmFsdWUiLCJudW1iZXJWYWx1ZSIsInZhbEFyciIsIlN0cmluZyIsInNwbGl0IiwibGVuZ3RoIiwiTnVtYmVyIiwiY2xlYW5WYWx1ZSIsImNvbnZlcnRWYWx1ZVdpdGhPcGVyYXRvciIsIm9wZXJhdG9yIiwiaGFzVHdvRG90cyIsInJlcGxhY2VMYXN0U2ltYm9sSW5TdHJpbmdXaXRoT3BlcmF0b3IiLCJjYWxjQ29udGFpbmVyIiwiaGFuZGxlRmluZEVsZW1lbnRCeVNlbGVjdG9yIiwiZG9jdW1lbnQiLCJvbmVOdW1iZXIiLCJ0d29OdW1iZXIiLCJ0aHJlZU51bWJlciIsImZvdXJOdW1iZXIiLCJmaXZlTnVtYmVyIiwic2l4TnVtYmVyIiwic2V2ZW5OdW1iZXIiLCJlaWdodE51bWJlciIsIm5pbmVOdW1iZXIiLCJ6ZXJvTnVtYmVyIiwiZG90IiwiYnV0dG9uQyIsInBsdXMiLCJtaW51cyIsIm11bHRpcGx5IiwiZGl2aWRlIiwiZXF1YWxzIiwic2NyZWVuIiwiYnV0dG9ucyIsIm9uZSIsInR3byIsInRocmVlIiwiZm91ciIsImZpdmUiLCJzaXgiLCJzZXZlbiIsImVpZ2h0IiwibmluZSIsInplcm8iLCJjIiwiYWxsQnV0dG9ucyIsImhhbmRsZUZpbmRTZXZlcmFsRWxlbWVudHNCeVNlbGVjdG9yIiwiaGFuZGxlRXhlcHRpb25zIiwiZXhlcHRpb25PYmplY3QiLCJFcnJvciIsInR5cGUiLCJtZXNzYWdlIiwicGxheVNvdW5kQ2xpY2siLCJhdWRpbyIsIkF1ZGlvIiwidm9sdW1lIiwicGxheSIsInNldEluaXRpYWxTY3JlZW5WYWx1ZSIsInRleHRDb250ZW50IiwiZmluZEluIiwic2VsZWN0b3IiLCJlcnJvck1lc3NhZ2UiLCJxdWVyeVNlbGVjdG9yIiwicXVlcnlTZWxlY3RvckFsbCIsIm5ld1ZhbCIsInBvcCIsImpvaW4iLCJjYWxjVmFsdWVBcnIiLCJyZXMiLCJmb3JFYWNoIiwiaXRlbSIsImRvdHMiLCJtYXRjaCIsImhhc09wZXJhdG9ySW5FbmRPZlN0cmluZyIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZCIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImhhbmRsZU51bWJlckNsaWNrIiwidmFsdWUiLCJoYW5kbGVDbGVhbkNsaWNrIiwiaGFuZGxlT3BlcmF0b3JDbGljayIsImhhbmRsZUVxdWFsc0NsaWNrIiwicmVzdWx0IiwiZXZhbCIsInRlc3QiLCJ0b0ZpeGVkIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwiaGFuZGxlTW91c2VVcCIsImV2ZW50IiwidGFyZ2V0IiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJyZW1vdmUiLCJBcnJheSIsImZyb20iLCJidXR0b24iLCJoYW5kbGVNb3VzZURvd24iLCJhZGQiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIl0sInNvdXJjZVJvb3QiOiIifQ==