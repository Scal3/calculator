(()=>{"use strict";var __webpack_modules__={588:(_,e,t)=>{var n,E,c,r;t.d(e,{Jl:()=>o,VU:()=>s,d:()=>c,eI:()=>n,qn:()=>O,uI:()=>E,vY:()=>r,zW:()=>a}),function(_){_.ZERO="0",_.ONE="1",_.TWO="2",_.THREE="3",_.FOUR="4",_.FIVE="5",_.SIX="6",_.SEVEN="7",_.EIGHT="8",_.NINE="9"}(n||(n={})),function(_){_[_.ZERO=0]="ZERO"}(E||(E={})),function(_){_.PLUS="+",_.MINUS="-",_.MULTIPLY="*",_.DIVIDE="/"}(c||(c={})),function(_){_.DOT="."}(r||(r={}));var O,s,a,o={ONE:".one",TWO:".two",THREE:".three",FOUR:".four",FIVE:".five",SIX:".six",SEVEN:".seven",EIGHT:".eight",NINE:".nine",ZERO:".zero",DOT:".dot",BUTTON_C:".button-c",PLUS:".plus",MINUS:".minus",MULTIPLY:".multiply",DIVIDE:".divide",EQUALS:".grid-equals",ALL_BUTTONS:".calculator__button",SCREEN:".calculator__screen-symbols",CALCULATOR_CONTAINER:".calculator"};!function(_){_.SCREEN_IS_LOST="screen is lost",_.CALCULATOR_CONTAINER_IS_LOST="caluclator container is lost",_.SELECTOR_NOT_FOUND="selector not found"}(O||(O={})),function(_){_.MISSING_SELECTOR="Missing selector"}(s||(s={})),function(_){_.MOUSE_UP="mouseup",_.MOUSE_DOWN="mousedown"}(a||(a={}))},727:(_,e,t)=>{t.d(e,{A:()=>c,Q:()=>E});var n=t(588),E=function(_,e){var t=String(_).split("");return t[t.length-1]===n.vY.DOT?"".concat(_).concat(e):Number(_)<=n.uI.ZERO?e:"".concat(_).concat(e)},c=function(_){return n.eI.ZERO}},662:(_,e,t)=>{t.d(e,{P:()=>c});var n=t(588),E=t(310),c=function(_,e){if((0,E.iY)(_,e))return _;switch(_[_.length-1]){case n.d.DIVIDE:case n.d.MINUS:case n.d.MULTIPLY:case n.d.PLUS:case n.vY.DOT:return(0,E.fC)(_,e);default:return"".concat(_).concat(e)}}},990:(_,e,t)=>{t.d(e,{Z:()=>N,s:()=>d});var n=t(588),E=t(310),c=(0,E.$9)(document,n.Jl.CALCULATOR_CONTAINER,n.qn.CALCULATOR_CONTAINER_IS_LOST),r=(0,E.$9)(c,n.Jl.ONE,n.qn.SELECTOR_NOT_FOUND),O=(0,E.$9)(c,n.Jl.TWO,n.qn.SELECTOR_NOT_FOUND),s=(0,E.$9)(c,n.Jl.THREE,n.qn.SELECTOR_NOT_FOUND),a=(0,E.$9)(c,n.Jl.FOUR,n.qn.SELECTOR_NOT_FOUND),o=(0,E.$9)(c,n.Jl.FIVE,n.qn.SELECTOR_NOT_FOUND),l=(0,E.$9)(c,n.Jl.SIX,n.qn.SELECTOR_NOT_FOUND),u=(0,E.$9)(c,n.Jl.SEVEN,n.qn.SELECTOR_NOT_FOUND),D=(0,E.$9)(c,n.Jl.EIGHT,n.qn.SELECTOR_NOT_FOUND),i=(0,E.$9)(c,n.Jl.NINE,n.qn.SELECTOR_NOT_FOUND),M=(0,E.$9)(c,n.Jl.ZERO,n.qn.SELECTOR_NOT_FOUND),T=(0,E.$9)(c,n.Jl.DOT,n.qn.SELECTOR_NOT_FOUND),P=(0,E.$9)(c,n.Jl.BUTTON_C,n.qn.SELECTOR_NOT_FOUND),L=(0,E.$9)(c,n.Jl.PLUS,n.qn.SELECTOR_NOT_FOUND),U=(0,E.$9)(c,n.Jl.MINUS,n.qn.SELECTOR_NOT_FOUND),C=(0,E.$9)(c,n.Jl.MULTIPLY,n.qn.SELECTOR_NOT_FOUND),I=(0,E.$9)(c,n.Jl.DIVIDE,n.qn.SELECTOR_NOT_FOUND),R=(0,E.$9)(c,n.Jl.EQUALS,n.qn.SELECTOR_NOT_FOUND),d=(0,E.$9)(c,n.Jl.SCREEN,n.qn.SELECTOR_NOT_FOUND),N={one:r,two:O,three:s,four:a,five:o,six:l,seven:u,eight:D,nine:i,zero:M,dot:T,c:P,plus:L,minus:U,multiply:C,divide:I,equals:R,allButtons:(0,E.oi)(c,n.Jl.ALL_BUTTONS,n.qn.SELECTOR_NOT_FOUND)}},310:(_,e,t)=>{t.d(e,{$9:()=>s,oi:()=>a,KD:()=>u,iY:()=>l,lg:()=>r,fC:()=>o,vZ:()=>O});var n=t(588),E=function(_){throw new Error("".concat(_.type,": ").concat(_.message))};const c=t.p+"src/assets/click.wav";var r=function(){var _=new Audio(c);_.volume=.1,_.play()},O=function(_,e){if(!_)return E({type:n.VU.MISSING_SELECTOR,message:n.qn.SCREEN_IS_LOST});_.textContent=e},s=function(_,e,t){return _.querySelector(e)||E({type:n.VU.MISSING_SELECTOR,message:t})},a=function(_,e,t){return _.querySelectorAll(e)||E({type:n.VU.MISSING_SELECTOR,message:t})},o=function(_,e){var t=String(_).split("");return t.pop(),"".concat(t.join("")).concat(e)},l=function(_,e){var t=o(_,e).split(/[\s()*/%+-]+/g),n=!1;return t.forEach((function(_){var e=_.match(/\./g);e&&e.length>=2&&(n=!0)})),n},u=function(_){var e=String(_).split("");return e[e.length-1]===n.d.DIVIDE||e[e.length-1]===n.d.PLUS||e[e.length-1]===n.d.MINUS||e[e.length-1]===n.d.MULTIPLY}}},__webpack_module_cache__={};function __webpack_require__(_){var e=__webpack_module_cache__[_];if(void 0!==e)return e.exports;var t=__webpack_module_cache__[_]={exports:{}};return __webpack_modules__[_](t,t.exports,__webpack_require__),t.exports}__webpack_require__.d=(_,e)=>{for(var t in e)__webpack_require__.o(e,t)&&!__webpack_require__.o(_,t)&&Object.defineProperty(_,t,{enumerable:!0,get:e[t]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(_){if("object"==typeof window)return window}}(),__webpack_require__.o=(_,e)=>Object.prototype.hasOwnProperty.call(_,e),(()=>{var _;__webpack_require__.g.importScripts&&(_=__webpack_require__.g.location+"");var e=__webpack_require__.g.document;if(!_&&e&&(e.currentScript&&(_=e.currentScript.src),!_)){var t=e.getElementsByTagName("script");t.length&&(_=t[t.length-1].src)}if(!_)throw new Error("Automatic publicPath is not supported in this browser");_=_.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=_})();var __webpack_exports__={};(()=>{var _selectors__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(990),_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(310),_modules_numbers__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(727),_constants__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(588),_modules_opetators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(662),calcValue="0",handleNumberClick=function(_){if(calcValue.length>=15)_selectors__WEBPACK_IMPORTED_MODULE_0__.s.textContent=calcValue;else{var e=(0,_modules_numbers__WEBPACK_IMPORTED_MODULE_2__.Q)(calcValue,_);calcValue=e,_selectors__WEBPACK_IMPORTED_MODULE_0__.s.textContent=calcValue}},handleCleanClick=function(){var _=(0,_modules_numbers__WEBPACK_IMPORTED_MODULE_2__.A)(calcValue);calcValue=_,_selectors__WEBPACK_IMPORTED_MODULE_0__.s.textContent=calcValue},handleOperatorClick=function(_){if(calcValue.length>=15)_selectors__WEBPACK_IMPORTED_MODULE_0__.s.textContent=calcValue;else{var e=(0,_modules_opetators__WEBPACK_IMPORTED_MODULE_4__.P)(calcValue,_);calcValue=e,_selectors__WEBPACK_IMPORTED_MODULE_0__.s.textContent=calcValue}},handleEqualsClick=function handleEqualsClick(){if((0,_utils__WEBPACK_IMPORTED_MODULE_1__.KD)(calcValue)){var calcValueArr=String(calcValue).split("");calcValueArr.pop();var res=calcValueArr.join("");return calcValue=res,_selectors__WEBPACK_IMPORTED_MODULE_0__.s.textContent=res}try{var result=eval(calcValue),test=Number(result).toFixed(2);calcValue=String(test),_selectors__WEBPACK_IMPORTED_MODULE_0__.s.textContent=calcValue}catch(_){console.log(_)}},handleMouseUp=function(_){_.target.classList.contains("calculator__button")&&_.target.classList.remove("calculator__button_without_shadow"),Array.from(_selectors__WEBPACK_IMPORTED_MODULE_0__.Z.allButtons).forEach((function(_){_.classList.remove("calculator__button_without_shadow")}))},handleMouseDown=function(_){_.target.classList.contains("calculator__button")&&(_.target.classList.add("calculator__button_without_shadow"),(0,_utils__WEBPACK_IMPORTED_MODULE_1__.lg)())};window.addEventListener(_constants__WEBPACK_IMPORTED_MODULE_3__.zW.MOUSE_UP,handleMouseUp),window.addEventListener(_constants__WEBPACK_IMPORTED_MODULE_3__.zW.MOUSE_DOWN,handleMouseDown),_selectors__WEBPACK_IMPORTED_MODULE_0__.Z.one.addEventListener(_constants__WEBPACK_IMPORTED_MODULE_3__.zW.MOUSE_DOWN,(function(){return handleNumberClick(_constants__WEBPACK_IMPORTED_MODULE_3__.eI.ONE)})),_selectors__WEBPACK_IMPORTED_MODULE_0__.Z.two.addEventListener(_constants__WEBPACK_IMPORTED_MODULE_3__.zW.MOUSE_DOWN,(function(){return handleNumberClick(_constants__WEBPACK_IMPORTED_MODULE_3__.eI.TWO)})),_selectors__WEBPACK_IMPORTED_MODULE_0__.Z.three.addEventListener(_constants__WEBPACK_IMPORTED_MODULE_3__.zW.MOUSE_DOWN,(function(){return handleNumberClick(_constants__WEBPACK_IMPORTED_MODULE_3__.eI.THREE)})),_selectors__WEBPACK_IMPORTED_MODULE_0__.Z.four.addEventListener(_constants__WEBPACK_IMPORTED_MODULE_3__.zW.MOUSE_DOWN,(function(){return handleNumberClick(_constants__WEBPACK_IMPORTED_MODULE_3__.eI.FOUR)})),_selectors__WEBPACK_IMPORTED_MODULE_0__.Z.five.addEventListener(_constants__WEBPACK_IMPORTED_MODULE_3__.zW.MOUSE_DOWN,(function(){return handleNumberClick(_constants__WEBPACK_IMPORTED_MODULE_3__.eI.FIVE)})),_selectors__WEBPACK_IMPORTED_MODULE_0__.Z.six.addEventListener(_constants__WEBPACK_IMPORTED_MODULE_3__.zW.MOUSE_DOWN,(function(){return handleNumberClick(_constants__WEBPACK_IMPORTED_MODULE_3__.eI.SIX)})),_selectors__WEBPACK_IMPORTED_MODULE_0__.Z.seven.addEventListener(_constants__WEBPACK_IMPORTED_MODULE_3__.zW.MOUSE_DOWN,(function(){return handleNumberClick(_constants__WEBPACK_IMPORTED_MODULE_3__.eI.SEVEN)})),_selectors__WEBPACK_IMPORTED_MODULE_0__.Z.eight.addEventListener(_constants__WEBPACK_IMPORTED_MODULE_3__.zW.MOUSE_DOWN,(function(){return handleNumberClick(_constants__WEBPACK_IMPORTED_MODULE_3__.eI.EIGHT)})),_selectors__WEBPACK_IMPORTED_MODULE_0__.Z.nine.addEventListener(_constants__WEBPACK_IMPORTED_MODULE_3__.zW.MOUSE_DOWN,(function(){return handleNumberClick(_constants__WEBPACK_IMPORTED_MODULE_3__.eI.NINE)})),_selectors__WEBPACK_IMPORTED_MODULE_0__.Z.zero.addEventListener(_constants__WEBPACK_IMPORTED_MODULE_3__.zW.MOUSE_DOWN,(function(){return handleNumberClick(_constants__WEBPACK_IMPORTED_MODULE_3__.eI.ZERO)})),_selectors__WEBPACK_IMPORTED_MODULE_0__.Z.c.addEventListener(_constants__WEBPACK_IMPORTED_MODULE_3__.zW.MOUSE_DOWN,handleCleanClick),_selectors__WEBPACK_IMPORTED_MODULE_0__.Z.dot.addEventListener(_constants__WEBPACK_IMPORTED_MODULE_3__.zW.MOUSE_DOWN,(function(){return handleOperatorClick(_constants__WEBPACK_IMPORTED_MODULE_3__.vY.DOT)})),_selectors__WEBPACK_IMPORTED_MODULE_0__.Z.plus.addEventListener(_constants__WEBPACK_IMPORTED_MODULE_3__.zW.MOUSE_DOWN,(function(){return handleOperatorClick(_constants__WEBPACK_IMPORTED_MODULE_3__.d.PLUS)})),_selectors__WEBPACK_IMPORTED_MODULE_0__.Z.minus.addEventListener(_constants__WEBPACK_IMPORTED_MODULE_3__.zW.MOUSE_DOWN,(function(){return handleOperatorClick(_constants__WEBPACK_IMPORTED_MODULE_3__.d.MINUS)})),_selectors__WEBPACK_IMPORTED_MODULE_0__.Z.multiply.addEventListener(_constants__WEBPACK_IMPORTED_MODULE_3__.zW.MOUSE_DOWN,(function(){return handleOperatorClick(_constants__WEBPACK_IMPORTED_MODULE_3__.d.MULTIPLY)})),_selectors__WEBPACK_IMPORTED_MODULE_0__.Z.divide.addEventListener(_constants__WEBPACK_IMPORTED_MODULE_3__.zW.MOUSE_DOWN,(function(){return handleOperatorClick(_constants__WEBPACK_IMPORTED_MODULE_3__.d.DIVIDE)})),_selectors__WEBPACK_IMPORTED_MODULE_0__.Z.equals.addEventListener(_constants__WEBPACK_IMPORTED_MODULE_3__.zW.MOUSE_DOWN,handleEqualsClick),(0,_utils__WEBPACK_IMPORTED_MODULE_1__.vZ)(_selectors__WEBPACK_IMPORTED_MODULE_0__.s,calcValue)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cyI6WyJ3ZWJwYWNrOi8vY2FsY3VsYXRvci8uL3NyYy9jb25zdGFudHMudHMiLCJ3ZWJwYWNrOi8vY2FsY3VsYXRvci8uL3NyYy9tb2R1bGVzL251bWJlcnMudHMiLCJ3ZWJwYWNrOi8vY2FsY3VsYXRvci8uL3NyYy9tb2R1bGVzL29wZXRhdG9ycy50cyIsIndlYnBhY2s6Ly9jYWxjdWxhdG9yLy4vc3JjL3NlbGVjdG9ycy50cyIsIndlYnBhY2s6Ly9jYWxjdWxhdG9yLy4vc3JjL21vZHVsZXMvZXhlcHRpb25zLnRzIiwid2VicGFjazovL2NhbGN1bGF0b3IvLi9zcmMvYXNzZXRzL2NsaWNrLndhdiIsIndlYnBhY2s6Ly9jYWxjdWxhdG9yLy4vc3JjL3V0aWxzLnRzIiwid2VicGFjazovL2NhbGN1bGF0b3Ivd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vY2FsY3VsYXRvci93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vY2FsY3VsYXRvci93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL2NhbGN1bGF0b3Ivd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9jYWxjdWxhdG9yL3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL2NhbGN1bGF0b3IvLi9zcmMvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiZW51bSBTdHJpbmdzIHtcclxuICBaRVJPID0gJzAnLFxyXG4gIE9ORSA9ICcxJyxcclxuICBUV08gPSAnMicsXHJcbiAgVEhSRUUgPSAnMycsXHJcbiAgRk9VUiA9ICc0JyxcclxuICBGSVZFID0gJzUnLFxyXG4gIFNJWCA9ICc2JyxcclxuICBTRVZFTiA9ICc3JyxcclxuICBFSUdIVCA9ICc4JyxcclxuICBOSU5FID0gJzknLFxyXG59XHJcblxyXG5lbnVtIE51bWJlcnMge1xyXG4gIFpFUk8gPSAwLFxyXG59XHJcblxyXG5lbnVtIE9wZXJhdG9ycyB7XHJcbiAgUExVUyA9ICcrJyxcclxuICBNSU5VUyA9ICctJyxcclxuICBNVUxUSVBMWSA9ICcqJyxcclxuICBESVZJREUgPSAnLydcclxufVxyXG5cclxuZW51bSBTeW1ib2xzIHtcclxuICBET1QgPSAnLidcclxufVxyXG5cclxuY29uc3QgY2xhc3NTZWxlY3RvcnMgPSB7XHJcbiAgT05FOiAnLm9uZScsXHJcbiAgVFdPOiAnLnR3bycsXHJcbiAgVEhSRUU6ICcudGhyZWUnLFxyXG4gIEZPVVI6ICcuZm91cicsXHJcbiAgRklWRTogJy5maXZlJyxcclxuICBTSVg6ICcuc2l4JyxcclxuICBTRVZFTjogJy5zZXZlbicsXHJcbiAgRUlHSFQ6ICcuZWlnaHQnLFxyXG4gIE5JTkU6ICcubmluZScsXHJcbiAgWkVSTzogJy56ZXJvJyxcclxuICBET1Q6ICcuZG90JyxcclxuICBCVVRUT05fQzogJy5idXR0b24tYycsXHJcbiAgUExVUzogJy5wbHVzJyxcclxuICBNSU5VUzogJy5taW51cycsXHJcbiAgTVVMVElQTFk6ICcubXVsdGlwbHknLFxyXG4gIERJVklERTogJy5kaXZpZGUnLFxyXG4gIEVRVUFMUzogJy5ncmlkLWVxdWFscycsXHJcbiAgQUxMX0JVVFRPTlM6ICcuY2FsY3VsYXRvcl9fYnV0dG9uJyxcclxuICBTQ1JFRU46ICcuY2FsY3VsYXRvcl9fc2NyZWVuLXN5bWJvbHMnLFxyXG4gIENBTENVTEFUT1JfQ09OVEFJTkVSOiAnLmNhbGN1bGF0b3InLFxyXG59XHJcblxyXG5lbnVtIEVycm9yc01lc3NhZ2VzIHtcclxuICBTQ1JFRU5fSVNfTE9TVCA9ICdzY3JlZW4gaXMgbG9zdCcsXHJcbiAgQ0FMQ1VMQVRPUl9DT05UQUlORVJfSVNfTE9TVCA9ICdjYWx1Y2xhdG9yIGNvbnRhaW5lciBpcyBsb3N0JyxcclxuICBTRUxFQ1RPUl9OT1RfRk9VTkQgPSAnc2VsZWN0b3Igbm90IGZvdW5kJ1xyXG59XHJcblxyXG5lbnVtIEVycm9yc1R5cGVzIHtcclxuICBNSVNTSU5HX1NFTEVDVE9SID0gJ01pc3Npbmcgc2VsZWN0b3InLFxyXG59XHJcblxyXG5lbnVtIEV2ZW50cyB7XHJcbiAgTU9VU0VfVVAgPSAnbW91c2V1cCcsXHJcbiAgTU9VU0VfRE9XTiA9ICdtb3VzZWRvd24nXHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcbiAgU3RyaW5ncyxcclxuICBOdW1iZXJzLFxyXG4gIEVycm9yc01lc3NhZ2VzLFxyXG4gIEVycm9yc1R5cGVzLFxyXG4gIE9wZXJhdG9ycyxcclxuICBTeW1ib2xzLFxyXG4gIEV2ZW50cyxcclxuICBjbGFzc1NlbGVjdG9yc1xyXG59IiwiaW1wb3J0IHtOdW1iZXJzLCBTdHJpbmdzLCBTeW1ib2xzfSBmcm9tICcuLi9jb25zdGFudHMnO1xyXG5cclxuY29uc3QgY29udmVydE51bWJlclZhbHVlID0gKGNhbGNWYWx1ZTogc3RyaW5nLCBudW1iZXJWYWx1ZTogc3RyaW5nKTogc3RyaW5nID0+IHtcclxuICBjb25zdCB2YWxBcnIgPSBTdHJpbmcoY2FsY1ZhbHVlKS5zcGxpdCgnJyk7XHJcbiAgY29uc3QgbGFzdFN5bWJvbCA9IHZhbEFyclt2YWxBcnIubGVuZ3RoIC0gMV07XHJcblxyXG4gIGlmKGxhc3RTeW1ib2wgPT09IFN5bWJvbHMuRE9UKSB7XHJcbiAgICBjYWxjVmFsdWUgPSBgJHtjYWxjVmFsdWV9JHtudW1iZXJWYWx1ZX1gO1xyXG4gICAgcmV0dXJuIGNhbGNWYWx1ZTtcclxuICB9XHJcblxyXG4gIGlmKE51bWJlcihjYWxjVmFsdWUpIDw9IE51bWJlcnMuWkVSTykge1xyXG4gICAgY2FsY1ZhbHVlID0gbnVtYmVyVmFsdWU7XHJcbiAgICByZXR1cm4gY2FsY1ZhbHVlO1xyXG4gIH1cclxuXHJcbiAgY2FsY1ZhbHVlID0gYCR7Y2FsY1ZhbHVlfSR7bnVtYmVyVmFsdWV9YDtcclxuICByZXR1cm4gY2FsY1ZhbHVlO1xyXG59XHJcblxyXG5jb25zdCBjbGVhblZhbHVlID0gKGNhbGNWYWx1ZTogc3RyaW5nKTogc3RyaW5nID0+IHtcclxuICBjYWxjVmFsdWUgPSBTdHJpbmdzLlpFUk87XHJcbiAgcmV0dXJuIGNhbGNWYWx1ZTtcclxufVxyXG5cclxuZXhwb3J0IHtcclxuICBjb252ZXJ0TnVtYmVyVmFsdWUsXHJcbiAgY2xlYW5WYWx1ZVxyXG59IiwiaW1wb3J0IHsgTnVtYmVycywgT3BlcmF0b3JzLCBTeW1ib2xzIH0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xyXG5pbXBvcnQgeyBoYXNUd29Eb3RzLCByZXBsYWNlTGFzdFNpbWJvbEluU3RyaW5nV2l0aE9wZXJhdG9yIH0gZnJvbSBcIi4uL3V0aWxzXCI7XHJcblxyXG5jb25zdCBjb252ZXJ0VmFsdWVXaXRoT3BlcmF0b3IgPSAoY2FsY1ZhbHVlOiBzdHJpbmcsIG9wZXJhdG9yOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xyXG4gIGlmKGhhc1R3b0RvdHMoY2FsY1ZhbHVlLCBvcGVyYXRvcikpIHtcclxuICAgIHJldHVybiBjYWxjVmFsdWU7XHJcbiAgfVxyXG5cclxuICBjb25zdCBsYXN0U3ltYm9sID0gY2FsY1ZhbHVlW2NhbGNWYWx1ZS5sZW5ndGggLSAxXTtcclxuXHJcbiAgc3dpdGNoKGxhc3RTeW1ib2wpIHtcclxuICAgIGNhc2UgT3BlcmF0b3JzLkRJVklERTogXHJcbiAgICAgIHJldHVybiByZXBsYWNlTGFzdFNpbWJvbEluU3RyaW5nV2l0aE9wZXJhdG9yKGNhbGNWYWx1ZSwgb3BlcmF0b3IpO1xyXG4gICAgY2FzZSBPcGVyYXRvcnMuTUlOVVM6IFxyXG4gICAgICByZXR1cm4gcmVwbGFjZUxhc3RTaW1ib2xJblN0cmluZ1dpdGhPcGVyYXRvcihjYWxjVmFsdWUsIG9wZXJhdG9yKTtcclxuICAgIGNhc2UgT3BlcmF0b3JzLk1VTFRJUExZOiBcclxuICAgICAgcmV0dXJuIHJlcGxhY2VMYXN0U2ltYm9sSW5TdHJpbmdXaXRoT3BlcmF0b3IoY2FsY1ZhbHVlLCBvcGVyYXRvcik7XHJcbiAgICBjYXNlIE9wZXJhdG9ycy5QTFVTOiBcclxuICAgICAgcmV0dXJuIHJlcGxhY2VMYXN0U2ltYm9sSW5TdHJpbmdXaXRoT3BlcmF0b3IoY2FsY1ZhbHVlLCBvcGVyYXRvcik7XHJcbiAgICBjYXNlIFN5bWJvbHMuRE9UOiBcclxuICAgICAgcmV0dXJuIHJlcGxhY2VMYXN0U2ltYm9sSW5TdHJpbmdXaXRoT3BlcmF0b3IoY2FsY1ZhbHVlLCBvcGVyYXRvcik7XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICBjYWxjVmFsdWUgPSBgJHtjYWxjVmFsdWV9JHtvcGVyYXRvcn1gO1xyXG4gICAgICByZXR1cm4gY2FsY1ZhbHVlO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCB7XHJcbiAgY29udmVydFZhbHVlV2l0aE9wZXJhdG9yLFxyXG5cclxufSIsImltcG9ydCB7IGNsYXNzU2VsZWN0b3JzLCBFcnJvcnNNZXNzYWdlcyB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xyXG5pbXBvcnQgeyBoYW5kbGVGaW5kRWxlbWVudEJ5U2VsZWN0b3IsIGhhbmRsZUZpbmRTZXZlcmFsRWxlbWVudHNCeVNlbGVjdG9yIH0gZnJvbSBcIi4vdXRpbHNcIjtcclxuXHJcblxyXG5jb25zdCBjYWxjQ29udGFpbmVyID0gaGFuZGxlRmluZEVsZW1lbnRCeVNlbGVjdG9yKFxyXG4gIGRvY3VtZW50ICwgY2xhc3NTZWxlY3RvcnMuQ0FMQ1VMQVRPUl9DT05UQUlORVIsIEVycm9yc01lc3NhZ2VzLkNBTENVTEFUT1JfQ09OVEFJTkVSX0lTX0xPU1RcclxuKTtcclxuY29uc3Qgb25lTnVtYmVyID0gaGFuZGxlRmluZEVsZW1lbnRCeVNlbGVjdG9yKFxyXG4gIGNhbGNDb250YWluZXIgLCBjbGFzc1NlbGVjdG9ycy5PTkUsIEVycm9yc01lc3NhZ2VzLlNFTEVDVE9SX05PVF9GT1VORFxyXG4pO1xyXG5jb25zdCB0d29OdW1iZXIgPSBoYW5kbGVGaW5kRWxlbWVudEJ5U2VsZWN0b3IoXHJcbiAgY2FsY0NvbnRhaW5lciAsIGNsYXNzU2VsZWN0b3JzLlRXTywgRXJyb3JzTWVzc2FnZXMuU0VMRUNUT1JfTk9UX0ZPVU5EXHJcbik7XHJcbmNvbnN0IHRocmVlTnVtYmVyID0gaGFuZGxlRmluZEVsZW1lbnRCeVNlbGVjdG9yKFxyXG4gIGNhbGNDb250YWluZXIgLCBjbGFzc1NlbGVjdG9ycy5USFJFRSwgRXJyb3JzTWVzc2FnZXMuU0VMRUNUT1JfTk9UX0ZPVU5EXHJcbik7XHJcbmNvbnN0IGZvdXJOdW1iZXIgPSBoYW5kbGVGaW5kRWxlbWVudEJ5U2VsZWN0b3IoXHJcbiAgY2FsY0NvbnRhaW5lciAsIGNsYXNzU2VsZWN0b3JzLkZPVVIsIEVycm9yc01lc3NhZ2VzLlNFTEVDVE9SX05PVF9GT1VORFxyXG4pO1xyXG5jb25zdCBmaXZlTnVtYmVyID0gaGFuZGxlRmluZEVsZW1lbnRCeVNlbGVjdG9yKFxyXG4gIGNhbGNDb250YWluZXIgLCBjbGFzc1NlbGVjdG9ycy5GSVZFLCBFcnJvcnNNZXNzYWdlcy5TRUxFQ1RPUl9OT1RfRk9VTkRcclxuKTtcclxuY29uc3Qgc2l4TnVtYmVyID0gaGFuZGxlRmluZEVsZW1lbnRCeVNlbGVjdG9yKFxyXG4gIGNhbGNDb250YWluZXIgLCBjbGFzc1NlbGVjdG9ycy5TSVgsIEVycm9yc01lc3NhZ2VzLlNFTEVDVE9SX05PVF9GT1VORFxyXG4pO1xyXG5jb25zdCBzZXZlbk51bWJlciA9IGhhbmRsZUZpbmRFbGVtZW50QnlTZWxlY3RvcihcclxuICBjYWxjQ29udGFpbmVyICwgY2xhc3NTZWxlY3RvcnMuU0VWRU4sIEVycm9yc01lc3NhZ2VzLlNFTEVDVE9SX05PVF9GT1VORFxyXG4pO1xyXG5jb25zdCBlaWdodE51bWJlciA9IGhhbmRsZUZpbmRFbGVtZW50QnlTZWxlY3RvcihcclxuICBjYWxjQ29udGFpbmVyICwgY2xhc3NTZWxlY3RvcnMuRUlHSFQsIEVycm9yc01lc3NhZ2VzLlNFTEVDVE9SX05PVF9GT1VORFxyXG4pO1xyXG5jb25zdCBuaW5lTnVtYmVyID0gaGFuZGxlRmluZEVsZW1lbnRCeVNlbGVjdG9yKFxyXG4gIGNhbGNDb250YWluZXIgLCBjbGFzc1NlbGVjdG9ycy5OSU5FLCBFcnJvcnNNZXNzYWdlcy5TRUxFQ1RPUl9OT1RfRk9VTkRcclxuKTtcclxuY29uc3QgemVyb051bWJlciA9IGhhbmRsZUZpbmRFbGVtZW50QnlTZWxlY3RvcihcclxuICBjYWxjQ29udGFpbmVyICwgY2xhc3NTZWxlY3RvcnMuWkVSTywgRXJyb3JzTWVzc2FnZXMuU0VMRUNUT1JfTk9UX0ZPVU5EXHJcbik7XHJcbmNvbnN0IGRvdCA9IGhhbmRsZUZpbmRFbGVtZW50QnlTZWxlY3RvcihcclxuICBjYWxjQ29udGFpbmVyICwgY2xhc3NTZWxlY3RvcnMuRE9ULCBFcnJvcnNNZXNzYWdlcy5TRUxFQ1RPUl9OT1RfRk9VTkRcclxuKTtcclxuY29uc3QgYnV0dG9uQyA9IGhhbmRsZUZpbmRFbGVtZW50QnlTZWxlY3RvcihcclxuICBjYWxjQ29udGFpbmVyICwgY2xhc3NTZWxlY3RvcnMuQlVUVE9OX0MsIEVycm9yc01lc3NhZ2VzLlNFTEVDVE9SX05PVF9GT1VORFxyXG4pO1xyXG5jb25zdCBwbHVzID0gaGFuZGxlRmluZEVsZW1lbnRCeVNlbGVjdG9yKFxyXG4gIGNhbGNDb250YWluZXIgLCBjbGFzc1NlbGVjdG9ycy5QTFVTLCBFcnJvcnNNZXNzYWdlcy5TRUxFQ1RPUl9OT1RfRk9VTkRcclxuKTtcclxuY29uc3QgbWludXMgPSBoYW5kbGVGaW5kRWxlbWVudEJ5U2VsZWN0b3IoXHJcbiAgY2FsY0NvbnRhaW5lciAsIGNsYXNzU2VsZWN0b3JzLk1JTlVTLCBFcnJvcnNNZXNzYWdlcy5TRUxFQ1RPUl9OT1RfRk9VTkRcclxuKTtcclxuY29uc3QgbXVsdGlwbHkgPSBoYW5kbGVGaW5kRWxlbWVudEJ5U2VsZWN0b3IoXHJcbiAgY2FsY0NvbnRhaW5lciAsIGNsYXNzU2VsZWN0b3JzLk1VTFRJUExZLCBFcnJvcnNNZXNzYWdlcy5TRUxFQ1RPUl9OT1RfRk9VTkRcclxuKTtcclxuY29uc3QgZGl2aWRlID0gaGFuZGxlRmluZEVsZW1lbnRCeVNlbGVjdG9yKFxyXG4gIGNhbGNDb250YWluZXIgLCBjbGFzc1NlbGVjdG9ycy5ESVZJREUsIEVycm9yc01lc3NhZ2VzLlNFTEVDVE9SX05PVF9GT1VORFxyXG4pO1xyXG5jb25zdCBlcXVhbHMgPSBoYW5kbGVGaW5kRWxlbWVudEJ5U2VsZWN0b3IoXHJcbiAgY2FsY0NvbnRhaW5lciAsIGNsYXNzU2VsZWN0b3JzLkVRVUFMUywgRXJyb3JzTWVzc2FnZXMuU0VMRUNUT1JfTk9UX0ZPVU5EXHJcbik7XHJcbmNvbnN0IHNjcmVlbiA9IGhhbmRsZUZpbmRFbGVtZW50QnlTZWxlY3RvcihcclxuICBjYWxjQ29udGFpbmVyICwgY2xhc3NTZWxlY3RvcnMuU0NSRUVOLCBFcnJvcnNNZXNzYWdlcy5TRUxFQ1RPUl9OT1RfRk9VTkRcclxuKTtcclxuY29uc3QgYWxsQnV0dG9ucyA9IGhhbmRsZUZpbmRTZXZlcmFsRWxlbWVudHNCeVNlbGVjdG9yKFxyXG4gIGNhbGNDb250YWluZXIgLCBjbGFzc1NlbGVjdG9ycy5BTExfQlVUVE9OUywgRXJyb3JzTWVzc2FnZXMuU0VMRUNUT1JfTk9UX0ZPVU5EXHJcbik7XHJcblxyXG5cclxuY29uc3QgYnV0dG9ucyA9IHtcclxuICBvbmU6IG9uZU51bWJlcixcclxuICB0d286IHR3b051bWJlcixcclxuICB0aHJlZTogdGhyZWVOdW1iZXIsXHJcbiAgZm91cjogZm91ck51bWJlcixcclxuICBmaXZlOiBmaXZlTnVtYmVyLFxyXG4gIHNpeDogc2l4TnVtYmVyLFxyXG4gIHNldmVuOiBzZXZlbk51bWJlcixcclxuICBlaWdodDogZWlnaHROdW1iZXIsXHJcbiAgbmluZTogbmluZU51bWJlcixcclxuICB6ZXJvOiB6ZXJvTnVtYmVyLFxyXG4gIGRvdDogZG90LFxyXG4gIGM6IGJ1dHRvbkMsXHJcbiAgcGx1czogcGx1cyxcclxuICBtaW51czogbWludXMsXHJcbiAgbXVsdGlwbHk6IG11bHRpcGx5LFxyXG4gIGRpdmlkZTogZGl2aWRlLFxyXG4gIGVxdWFsczogZXF1YWxzLFxyXG4gIGFsbEJ1dHRvbnM6IGFsbEJ1dHRvbnNcclxufVxyXG5cclxuXHJcbmV4cG9ydCB7XHJcbiAgYnV0dG9ucywgc2NyZWVuXHJcbn0iLCJcclxuaW50ZXJmYWNlIEV4ZXB0aW9uT2JqZWN0IHtcclxuICB0eXBlOiBzdHJpbmcsXHJcbiAgbWVzc2FnZTogc3RyaW5nXHJcbn1cclxuXHJcbmNvbnN0IGhhbmRsZUV4ZXB0aW9ucyA9IChleGVwdGlvbk9iamVjdDogRXhlcHRpb25PYmplY3QpID0+IHtcclxuICB0aHJvdyBuZXcgRXJyb3IoYCR7ZXhlcHRpb25PYmplY3QudHlwZX06ICR7ZXhlcHRpb25PYmplY3QubWVzc2FnZX1gKTtcclxuXHJcbiAgLy8gY2FsbCBsb2dnZXJcclxufVxyXG5cclxuXHJcblxyXG5cclxuZXhwb3J0IHtcclxuICBoYW5kbGVFeGVwdGlvbnNcclxufSIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJzcmMvYXNzZXRzL2NsaWNrLndhdlwiOyIsImltcG9ydCB7IEVycm9yc01lc3NhZ2VzLCBFcnJvcnNUeXBlcywgT3BlcmF0b3JzIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IGhhbmRsZUV4ZXB0aW9ucyB9IGZyb20gXCIuL21vZHVsZXMvZXhlcHRpb25zXCI7XHJcbmltcG9ydCBzb3VuZCBmcm9tICcuL2Fzc2V0cy9jbGljay53YXYnO1xyXG5cclxuLy8gQ3JlYXRlIHNvdW5kcyBvZmZcclxuY29uc3QgcGxheVNvdW5kQ2xpY2sgPSAoKTogdm9pZCA9PiB7XHJcbiAgY29uc3QgYXVkaW8gPSBuZXcgQXVkaW8oc291bmQpO1xyXG4gIGF1ZGlvLnZvbHVtZSA9IDAuMTtcclxuICBhdWRpby5wbGF5KCk7XHJcbn1cclxuXHJcbmNvbnN0IHNldEluaXRpYWxTY3JlZW5WYWx1ZSA9IChzY3JlZW46IEVsZW1lbnQgfCBudWxsLCBjYWxjVmFsdWU6IHN0cmluZyk6IHZvaWQgPT4ge1xyXG4gIGlmKCFzY3JlZW4pIHtcclxuICAgIHJldHVybiBoYW5kbGVFeGVwdGlvbnMoeyB0eXBlOiBFcnJvcnNUeXBlcy5NSVNTSU5HX1NFTEVDVE9SLCBtZXNzYWdlOiBFcnJvcnNNZXNzYWdlcy5TQ1JFRU5fSVNfTE9TVCB9KTtcclxuICB9XHJcbiAgXHJcbiAgc2NyZWVuLnRleHRDb250ZW50ID0gY2FsY1ZhbHVlO1xyXG59XHJcblxyXG5jb25zdCBoYW5kbGVGaW5kRWxlbWVudEJ5U2VsZWN0b3IgPSAoZmluZEluOiBFbGVtZW50IHwgRG9jdW1lbnQsIHNlbGVjdG9yOiBzdHJpbmcsIGVycm9yTWVzc2FnZTogc3RyaW5nKTogRWxlbWVudCA9PiB7XHJcbiAgY29uc3QgZWxlbWVudDogRWxlbWVudCB8IG51bGwgPSBmaW5kSW4ucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XHJcblxyXG4gIGlmKCFlbGVtZW50KSB7XHJcbiAgICByZXR1cm4gaGFuZGxlRXhlcHRpb25zKHsgdHlwZTogRXJyb3JzVHlwZXMuTUlTU0lOR19TRUxFQ1RPUiwgbWVzc2FnZTogZXJyb3JNZXNzYWdlIH0pO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGVsZW1lbnQ7XHJcbn1cclxuXHJcbmNvbnN0IGhhbmRsZUZpbmRTZXZlcmFsRWxlbWVudHNCeVNlbGVjdG9yID0gKFxyXG4gIGZpbmRJbjogRWxlbWVudCB8IERvY3VtZW50LCBzZWxlY3Rvcjogc3RyaW5nLCBlcnJvck1lc3NhZ2U6IHN0cmluZ1xyXG4pOiBOb2RlTGlzdE9mPEVsZW1lbnQ+ID0+IHtcclxuICBjb25zdCBlbGVtZW50czogTm9kZUxpc3RPZjxFbGVtZW50PiB8IG51bGwgPSBmaW5kSW4ucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XHJcblxyXG4gIGlmKCFlbGVtZW50cykge1xyXG4gICAgcmV0dXJuIGhhbmRsZUV4ZXB0aW9ucyh7IHR5cGU6IEVycm9yc1R5cGVzLk1JU1NJTkdfU0VMRUNUT1IsIG1lc3NhZ2U6IGVycm9yTWVzc2FnZSB9KTtcclxuICB9XHJcblxyXG4gIHJldHVybiBlbGVtZW50cztcclxufVxyXG5cclxuY29uc3QgcmVwbGFjZUxhc3RTaW1ib2xJblN0cmluZ1dpdGhPcGVyYXRvciA9IChjYWxjVmFsdWU6IHN0cmluZywgb3BlcmF0b3I6IHN0cmluZyk6IHN0cmluZyA9PiB7XHJcbiAgY29uc3QgbmV3VmFsID0gU3RyaW5nKGNhbGNWYWx1ZSkuc3BsaXQoJycpO1xyXG4gIG5ld1ZhbC5wb3AoKTtcclxuICBjb25zdCByZXMgPSBgJHtuZXdWYWwuam9pbignJyl9JHtvcGVyYXRvcn1gXHJcblxyXG4gIHJldHVybiByZXM7XHJcbn1cclxuXHJcbmNvbnN0IGhhc1R3b0RvdHMgPSAoY2FsY1ZhbHVlOiBzdHJpbmcsIG9wZXJhdG9yOiBzdHJpbmcpOiBib29sZWFuID0+IHtcclxuICBjb25zdCBzcGxpdFBhdHRlcm4gPSAvW1xccygpKi8lKy1dKy9nO1xyXG4gIGNvbnN0IGNhbGNWYWx1ZVdpdGhvdXRMYXN0T3BlcmF0b3IgPSByZXBsYWNlTGFzdFNpbWJvbEluU3RyaW5nV2l0aE9wZXJhdG9yKGNhbGNWYWx1ZSwgb3BlcmF0b3IpO1xyXG4gIGNvbnN0IGNhbGNWYWx1ZUFyciA9IGNhbGNWYWx1ZVdpdGhvdXRMYXN0T3BlcmF0b3Iuc3BsaXQoc3BsaXRQYXR0ZXJuKTtcclxuICBsZXQgcmVzID0gZmFsc2U7XHJcblxyXG4gIGNhbGNWYWx1ZUFyci5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgY29uc3QgZG90cyA9IGl0ZW0ubWF0Y2goL1xcLi9nKTtcclxuXHJcbiAgICBpZighZG90cykge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYoZG90cy5sZW5ndGggPj0gMikge1xyXG4gICAgICByZXMgPSB0cnVlO1xyXG4gICAgfVxyXG4gIH0pIFxyXG5cclxuICByZXR1cm4gcmVzO1xyXG59XHJcblxyXG5jb25zdCBoYXNPcGVyYXRvckluRW5kT2ZTdHJpbmcgPSAoY2FsY1ZhbHVlOiBzdHJpbmcpOiBib29sZWFuID0+IHtcclxuICBjb25zdCBjYWxjVmFsdWVBcnIgPSBTdHJpbmcoY2FsY1ZhbHVlKS5zcGxpdCgnJyk7XHJcblxyXG4gIGlmKGNhbGNWYWx1ZUFycltjYWxjVmFsdWVBcnIubGVuZ3RoIC0gMV0gPT09IE9wZXJhdG9ycy5ESVZJREUgXHJcbiAgICB8fCBjYWxjVmFsdWVBcnJbY2FsY1ZhbHVlQXJyLmxlbmd0aCAtIDFdID09PSBPcGVyYXRvcnMuUExVU1xyXG4gICAgfHwgY2FsY1ZhbHVlQXJyW2NhbGNWYWx1ZUFyci5sZW5ndGggLSAxXSA9PT0gT3BlcmF0b3JzLk1JTlVTXHJcbiAgICB8fCBjYWxjVmFsdWVBcnJbY2FsY1ZhbHVlQXJyLmxlbmd0aCAtIDFdID09PSBPcGVyYXRvcnMuTVVMVElQTFlcclxuICAgICkge1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcbiAgcGxheVNvdW5kQ2xpY2ssXHJcbiAgc2V0SW5pdGlhbFNjcmVlblZhbHVlLFxyXG4gIGhhbmRsZUZpbmRFbGVtZW50QnlTZWxlY3RvcixcclxuICBoYW5kbGVGaW5kU2V2ZXJhbEVsZW1lbnRzQnlTZWxlY3RvcixcclxuICByZXBsYWNlTGFzdFNpbWJvbEluU3RyaW5nV2l0aE9wZXJhdG9yLFxyXG4gIGhhc1R3b0RvdHMsXHJcbiAgaGFzT3BlcmF0b3JJbkVuZE9mU3RyaW5nXHJcbn0iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0KVxuXHRcdHNjcmlwdFVybCA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjXG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkgc2NyaXB0VXJsID0gc2NyaXB0c1tzY3JpcHRzLmxlbmd0aCAtIDFdLnNyY1xuXHR9XG59XG4vLyBXaGVuIHN1cHBvcnRpbmcgYnJvd3NlcnMgd2hlcmUgYW4gYXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCB5b3UgbXVzdCBzcGVjaWZ5IGFuIG91dHB1dC5wdWJsaWNQYXRoIG1hbnVhbGx5IHZpYSBjb25maWd1cmF0aW9uXG4vLyBvciBwYXNzIGFuIGVtcHR5IHN0cmluZyAoXCJcIikgYW5kIHNldCB0aGUgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gdmFyaWFibGUgZnJvbSB5b3VyIGNvZGUgdG8gdXNlIHlvdXIgb3duIGxvZ2ljLlxuaWYgKCFzY3JpcHRVcmwpIHRocm93IG5ldyBFcnJvcihcIkF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyXCIpO1xuc2NyaXB0VXJsID0gc2NyaXB0VXJsLnJlcGxhY2UoLyMuKiQvLCBcIlwiKS5yZXBsYWNlKC9cXD8uKiQvLCBcIlwiKS5yZXBsYWNlKC9cXC9bXlxcL10rJC8sIFwiL1wiKTtcbl9fd2VicGFja19yZXF1aXJlX18ucCA9IHNjcmlwdFVybDsiLCJpbXBvcnQgJy4vc3R5bGVzL2luZGV4LmNzcyc7XHJcbmltcG9ydCB7IGJ1dHRvbnMsIHNjcmVlbiB9IGZyb20gXCIuL3NlbGVjdG9yc1wiO1xyXG5pbXBvcnQgeyBoYXNPcGVyYXRvckluRW5kT2ZTdHJpbmcsIHBsYXlTb3VuZENsaWNrLCBzZXRJbml0aWFsU2NyZWVuVmFsdWUgfSBmcm9tIFwiLi91dGlsc1wiO1xyXG5pbXBvcnQgeyBjb252ZXJ0TnVtYmVyVmFsdWUsIGNsZWFuVmFsdWUgfSBmcm9tICcuL21vZHVsZXMvbnVtYmVycyc7XHJcbmltcG9ydCB7IEV2ZW50cywgT3BlcmF0b3JzLCBTdHJpbmdzLCBTeW1ib2xzIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IGNvbnZlcnRWYWx1ZVdpdGhPcGVyYXRvciB9IGZyb20gXCIuL21vZHVsZXMvb3BldGF0b3JzXCI7XHJcblxyXG5sZXQgY2FsY1ZhbHVlID0gJzAnO1xyXG5cclxuXHJcbmNvbnN0IGhhbmRsZU51bWJlckNsaWNrID0gKG51bWJlclZhbHVlOiBzdHJpbmcpOiB2b2lkID0+IHtcclxuICBpZihjYWxjVmFsdWUubGVuZ3RoID49IDE1KSB7XHJcbiAgICBzY3JlZW4udGV4dENvbnRlbnQgPSBjYWxjVmFsdWU7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBjb25zdCB2YWx1ZSA9IGNvbnZlcnROdW1iZXJWYWx1ZShjYWxjVmFsdWUsIG51bWJlclZhbHVlKTtcclxuICBjYWxjVmFsdWUgPSB2YWx1ZTtcclxuICBzY3JlZW4udGV4dENvbnRlbnQgPSBjYWxjVmFsdWU7XHJcbn1cclxuXHJcbmNvbnN0IGhhbmRsZUNsZWFuQ2xpY2sgPSAoKTogdm9pZCA9PiB7XHJcbiAgY29uc3QgemVybyA9IGNsZWFuVmFsdWUoY2FsY1ZhbHVlKTtcclxuICBjYWxjVmFsdWUgPSB6ZXJvO1xyXG4gIHNjcmVlbi50ZXh0Q29udGVudCA9IGNhbGNWYWx1ZTtcclxufVxyXG5cclxuY29uc3QgaGFuZGxlT3BlcmF0b3JDbGljayA9IChvcGVyYXRvcjogc3RyaW5nKTogdm9pZCA9PiB7XHJcbiAgaWYoY2FsY1ZhbHVlLmxlbmd0aCA+PSAxNSkge1xyXG4gICAgc2NyZWVuLnRleHRDb250ZW50ID0gY2FsY1ZhbHVlO1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgdmFsdWUgPSBjb252ZXJ0VmFsdWVXaXRoT3BlcmF0b3IoY2FsY1ZhbHVlLCBvcGVyYXRvcik7XHJcbiAgY2FsY1ZhbHVlID0gdmFsdWU7XHJcbiAgc2NyZWVuLnRleHRDb250ZW50ID0gY2FsY1ZhbHVlO1xyXG59XHJcblxyXG5jb25zdCBoYW5kbGVFcXVhbHNDbGljayA9ICgpOiBzdHJpbmcgfCB2b2lkID0+IHtcclxuICBpZihoYXNPcGVyYXRvckluRW5kT2ZTdHJpbmcoY2FsY1ZhbHVlKSkge1xyXG4gICAgY29uc3QgY2FsY1ZhbHVlQXJyID0gU3RyaW5nKGNhbGNWYWx1ZSkuc3BsaXQoJycpO1xyXG4gICAgY2FsY1ZhbHVlQXJyLnBvcCgpO1xyXG4gICAgY29uc3QgcmVzID0gY2FsY1ZhbHVlQXJyLmpvaW4oJycpO1xyXG4gICAgY2FsY1ZhbHVlID0gcmVzO1xyXG4gICAgcmV0dXJuIHNjcmVlbi50ZXh0Q29udGVudCA9IHJlcztcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByZXN1bHQgPSBldmFsKGNhbGNWYWx1ZSk7XHJcbiAgICBjb25zdCB0ZXN0ID0gTnVtYmVyKHJlc3VsdCkudG9GaXhlZCgyKTtcclxuICAgIGNhbGNWYWx1ZSA9IFN0cmluZyh0ZXN0KTtcclxuICAgIHNjcmVlbi50ZXh0Q29udGVudCA9IGNhbGNWYWx1ZTtcclxuICB9IGNhdGNoKGVycm9yOiBhbnkpIHtcclxuICAgIGNvbnNvbGUubG9nKGVycm9yKTsgLy8gISEhISEhISEhISEhXHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBoYW5kbGVNb3VzZVVwID0gKGV2ZW50OiBhbnkpOiB2b2lkID0+IHtcclxuICBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnY2FsY3VsYXRvcl9fYnV0dG9uJykpIHtcclxuICAgIGV2ZW50LnRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdjYWxjdWxhdG9yX19idXR0b25fd2l0aG91dF9zaGFkb3cnKTtcclxuICB9XHJcblxyXG4gIEFycmF5LmZyb20oYnV0dG9ucy5hbGxCdXR0b25zKS5mb3JFYWNoKGJ1dHRvbiA9PiB7XHJcbiAgICBidXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnY2FsY3VsYXRvcl9fYnV0dG9uX3dpdGhvdXRfc2hhZG93Jyk7XHJcbiAgfSk7XHJcblxyXG59XHJcblxyXG5jb25zdCBoYW5kbGVNb3VzZURvd24gPSAoZXZlbnQ6IGFueSk6IHZvaWQgPT4ge1xyXG4gIGlmIChldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjYWxjdWxhdG9yX19idXR0b24nKSkge1xyXG4gICAgZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2NhbGN1bGF0b3JfX2J1dHRvbl93aXRob3V0X3NoYWRvdycpO1xyXG4gICAgcGxheVNvdW5kQ2xpY2soKTtcclxuICB9XHJcbn1cclxuXHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihFdmVudHMuTU9VU0VfVVAsIGhhbmRsZU1vdXNlVXApO1xyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihFdmVudHMuTU9VU0VfRE9XTiwgaGFuZGxlTW91c2VEb3duKTtcclxuXHJcbmJ1dHRvbnMub25lLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRzLk1PVVNFX0RPV04sICgpID0+IGhhbmRsZU51bWJlckNsaWNrKFN0cmluZ3MuT05FKSk7XHJcbmJ1dHRvbnMudHdvLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRzLk1PVVNFX0RPV04sICgpID0+IGhhbmRsZU51bWJlckNsaWNrKFN0cmluZ3MuVFdPKSk7XHJcbmJ1dHRvbnMudGhyZWUuYWRkRXZlbnRMaXN0ZW5lcihFdmVudHMuTU9VU0VfRE9XTiwgKCkgPT4gaGFuZGxlTnVtYmVyQ2xpY2soU3RyaW5ncy5USFJFRSkpO1xyXG5idXR0b25zLmZvdXIuYWRkRXZlbnRMaXN0ZW5lcihFdmVudHMuTU9VU0VfRE9XTiwgKCkgPT4gaGFuZGxlTnVtYmVyQ2xpY2soU3RyaW5ncy5GT1VSKSk7XHJcbmJ1dHRvbnMuZml2ZS5hZGRFdmVudExpc3RlbmVyKEV2ZW50cy5NT1VTRV9ET1dOLCAoKSA9PiBoYW5kbGVOdW1iZXJDbGljayhTdHJpbmdzLkZJVkUpKTtcclxuYnV0dG9ucy5zaXguYWRkRXZlbnRMaXN0ZW5lcihFdmVudHMuTU9VU0VfRE9XTiwgKCkgPT4gaGFuZGxlTnVtYmVyQ2xpY2soU3RyaW5ncy5TSVgpKTtcclxuYnV0dG9ucy5zZXZlbi5hZGRFdmVudExpc3RlbmVyKEV2ZW50cy5NT1VTRV9ET1dOLCAoKSA9PiBoYW5kbGVOdW1iZXJDbGljayhTdHJpbmdzLlNFVkVOKSk7XHJcbmJ1dHRvbnMuZWlnaHQuYWRkRXZlbnRMaXN0ZW5lcihFdmVudHMuTU9VU0VfRE9XTiwgKCkgPT4gaGFuZGxlTnVtYmVyQ2xpY2soU3RyaW5ncy5FSUdIVCkpO1xyXG5idXR0b25zLm5pbmUuYWRkRXZlbnRMaXN0ZW5lcihFdmVudHMuTU9VU0VfRE9XTiwgKCkgPT4gaGFuZGxlTnVtYmVyQ2xpY2soU3RyaW5ncy5OSU5FKSk7XHJcbmJ1dHRvbnMuemVyby5hZGRFdmVudExpc3RlbmVyKEV2ZW50cy5NT1VTRV9ET1dOLCAoKSA9PiBoYW5kbGVOdW1iZXJDbGljayhTdHJpbmdzLlpFUk8pKTtcclxuXHJcbmJ1dHRvbnMuYy5hZGRFdmVudExpc3RlbmVyKEV2ZW50cy5NT1VTRV9ET1dOLCBoYW5kbGVDbGVhbkNsaWNrKTtcclxuYnV0dG9ucy5kb3QuYWRkRXZlbnRMaXN0ZW5lcihFdmVudHMuTU9VU0VfRE9XTiwgKCkgPT4gaGFuZGxlT3BlcmF0b3JDbGljayhTeW1ib2xzLkRPVCkpO1xyXG5idXR0b25zLnBsdXMuYWRkRXZlbnRMaXN0ZW5lcihFdmVudHMuTU9VU0VfRE9XTiwgKCkgPT4gaGFuZGxlT3BlcmF0b3JDbGljayhPcGVyYXRvcnMuUExVUykpO1xyXG5idXR0b25zLm1pbnVzLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRzLk1PVVNFX0RPV04sICgpID0+IGhhbmRsZU9wZXJhdG9yQ2xpY2soT3BlcmF0b3JzLk1JTlVTKSk7XHJcbmJ1dHRvbnMubXVsdGlwbHkuYWRkRXZlbnRMaXN0ZW5lcihFdmVudHMuTU9VU0VfRE9XTiwgKCkgPT4gaGFuZGxlT3BlcmF0b3JDbGljayhPcGVyYXRvcnMuTVVMVElQTFkpKTtcclxuYnV0dG9ucy5kaXZpZGUuYWRkRXZlbnRMaXN0ZW5lcihFdmVudHMuTU9VU0VfRE9XTiwgKCkgPT4gaGFuZGxlT3BlcmF0b3JDbGljayhPcGVyYXRvcnMuRElWSURFKSk7XHJcbmJ1dHRvbnMuZXF1YWxzLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRzLk1PVVNFX0RPV04sIGhhbmRsZUVxdWFsc0NsaWNrKTtcclxuXHJcblxyXG5zZXRJbml0aWFsU2NyZWVuVmFsdWUoc2NyZWVuLCBjYWxjVmFsdWUpOyJdLCJuYW1lcyI6WyJTdHJpbmdzIiwiTnVtYmVycyIsIk9wZXJhdG9ycyIsIlN5bWJvbHMiLCJFcnJvcnNNZXNzYWdlcyIsIkVycm9yc1R5cGVzIiwiRXZlbnRzIiwiY2xhc3NTZWxlY3RvcnMiLCJPTkUiLCJUV08iLCJUSFJFRSIsIkZPVVIiLCJGSVZFIiwiU0lYIiwiU0VWRU4iLCJFSUdIVCIsIk5JTkUiLCJaRVJPIiwiRE9UIiwiQlVUVE9OX0MiLCJQTFVTIiwiTUlOVVMiLCJNVUxUSVBMWSIsIkRJVklERSIsIkVRVUFMUyIsIkFMTF9CVVRUT05TIiwiU0NSRUVOIiwiQ0FMQ1VMQVRPUl9DT05UQUlORVIiLCJjb252ZXJ0TnVtYmVyVmFsdWUiLCJjYWxjVmFsdWUiLCJudW1iZXJWYWx1ZSIsInZhbEFyciIsIlN0cmluZyIsInNwbGl0IiwibGVuZ3RoIiwiTnVtYmVyIiwiY2xlYW5WYWx1ZSIsImNvbnZlcnRWYWx1ZVdpdGhPcGVyYXRvciIsIm9wZXJhdG9yIiwiaGFzVHdvRG90cyIsInJlcGxhY2VMYXN0U2ltYm9sSW5TdHJpbmdXaXRoT3BlcmF0b3IiLCJjYWxjQ29udGFpbmVyIiwiaGFuZGxlRmluZEVsZW1lbnRCeVNlbGVjdG9yIiwiZG9jdW1lbnQiLCJvbmVOdW1iZXIiLCJ0d29OdW1iZXIiLCJ0aHJlZU51bWJlciIsImZvdXJOdW1iZXIiLCJmaXZlTnVtYmVyIiwic2l4TnVtYmVyIiwic2V2ZW5OdW1iZXIiLCJlaWdodE51bWJlciIsIm5pbmVOdW1iZXIiLCJ6ZXJvTnVtYmVyIiwiZG90IiwiYnV0dG9uQyIsInBsdXMiLCJtaW51cyIsIm11bHRpcGx5IiwiZGl2aWRlIiwiZXF1YWxzIiwic2NyZWVuIiwiYnV0dG9ucyIsIm9uZSIsInR3byIsInRocmVlIiwiZm91ciIsImZpdmUiLCJzaXgiLCJzZXZlbiIsImVpZ2h0IiwibmluZSIsInplcm8iLCJjIiwiYWxsQnV0dG9ucyIsImhhbmRsZUZpbmRTZXZlcmFsRWxlbWVudHNCeVNlbGVjdG9yIiwiaGFuZGxlRXhlcHRpb25zIiwiZXhlcHRpb25PYmplY3QiLCJFcnJvciIsInR5cGUiLCJtZXNzYWdlIiwicGxheVNvdW5kQ2xpY2siLCJhdWRpbyIsIkF1ZGlvIiwic291bmQiLCJ2b2x1bWUiLCJwbGF5Iiwic2V0SW5pdGlhbFNjcmVlblZhbHVlIiwidGV4dENvbnRlbnQiLCJmaW5kSW4iLCJzZWxlY3RvciIsImVycm9yTWVzc2FnZSIsInF1ZXJ5U2VsZWN0b3IiLCJxdWVyeVNlbGVjdG9yQWxsIiwibmV3VmFsIiwicG9wIiwiam9pbiIsImNhbGNWYWx1ZUFyciIsInJlcyIsImZvckVhY2giLCJpdGVtIiwiZG90cyIsIm1hdGNoIiwiaGFzT3BlcmF0b3JJbkVuZE9mU3RyaW5nIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJkIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJnIiwiZ2xvYmFsVGhpcyIsInRoaXMiLCJGdW5jdGlvbiIsImUiLCJ3aW5kb3ciLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwic2NyaXB0VXJsIiwiaW1wb3J0U2NyaXB0cyIsImxvY2F0aW9uIiwiY3VycmVudFNjcmlwdCIsInNyYyIsInNjcmlwdHMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInJlcGxhY2UiLCJwIiwiaGFuZGxlTnVtYmVyQ2xpY2siLCJ2YWx1ZSIsImhhbmRsZUNsZWFuQ2xpY2siLCJoYW5kbGVPcGVyYXRvckNsaWNrIiwiaGFuZGxlRXF1YWxzQ2xpY2siLCJyZXN1bHQiLCJldmFsIiwidGVzdCIsInRvRml4ZWQiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJoYW5kbGVNb3VzZVVwIiwiZXZlbnQiLCJ0YXJnZXQiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsInJlbW92ZSIsIkFycmF5IiwiZnJvbSIsImJ1dHRvbiIsImhhbmRsZU1vdXNlRG93biIsImFkZCIsImFkZEV2ZW50TGlzdGVuZXIiXSwic291cmNlUm9vdCI6IiJ9